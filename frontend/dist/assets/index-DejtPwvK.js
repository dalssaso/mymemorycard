import{j as o,c as Dn,O as bt,u as Re,L as P,a as K,r as ae,b as St,d as zn,R as Bn}from"./router-VKjJx9zE.js";import{c as Hn,a as b,d as We,P as Je,e as Qe,C as Xe,T as Ye,L as Ze}from"./recharts-BPqE_K3g.js";import{u as H,a as me,b as U,Q as qn,c as Gn}from"./query-BvTWdQ1N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var $e={},It;function Un(){if(It)return $e;It=1;var e=Hn();return $e.createRoot=e.createRoot,$e.hydrateRoot=e.hydrateRoot,$e}var Kn=Un(),Wn=function(){return null};function rn(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jn}=Object.prototype,{getPrototypeOf:Ct}=Object,{iterator:De,toStringTag:sn}=Symbol,ze=(e=>t=>{const n=Jn.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Q=e=>(e=e.toLowerCase(),t=>ze(t)===e),Be=e=>t=>typeof t===e,{isArray:ve}=Array,ye=Be("undefined");function Ne(e){return e!==null&&!ye(e)&&e.constructor!==null&&!ye(e.constructor)&&z(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const on=Q("ArrayBuffer");function Qn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&on(e.buffer),t}const Xn=Be("string"),z=Be("function"),an=Be("number"),_e=e=>e!==null&&typeof e=="object",Yn=e=>e===!0||e===!1,Le=e=>{if(ze(e)!=="object")return!1;const t=Ct(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(sn in e)&&!(De in e)},Zn=e=>{if(!_e(e)||Ne(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},er=Q("Date"),tr=Q("File"),nr=Q("Blob"),rr=Q("FileList"),sr=e=>_e(e)&&z(e.pipe),or=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||z(e.append)&&((t=ze(e))==="formdata"||t==="object"&&z(e.toString)&&e.toString()==="[object FormData]"))},ir=Q("URLSearchParams"),[ar,lr,cr,ur]=["ReadableStream","Request","Response","Headers"].map(Q),dr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fe(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ve(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ne(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function ln(e,t){if(Ne(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cn=e=>!ye(e)&&e!==ue;function gt(){const{caseless:e,skipUndefined:t}=cn(this)&&this||{},n={},r=(s,i)=>{const a=e&&ln(n,i)||i;Le(n[a])&&Le(s)?n[a]=gt(n[a],s):Le(s)?n[a]=gt({},s):ve(s)?n[a]=s.slice():(!t||!ye(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Fe(arguments[s],r);return n}const gr=(e,t,n,{allOwnKeys:r}={})=>(Fe(t,(s,i)=>{n&&z(s)?e[i]=rn(s,n):e[i]=s},{allOwnKeys:r}),e),mr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pr=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},fr=(e,t,n,r)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&Ct(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},hr=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},xr=e=>{if(!e)return null;if(ve(e))return e;let t=e.length;if(!an(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ct(Uint8Array)),vr=(e,t)=>{const r=(e&&e[De]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},wr=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},br=Q("HTMLFormElement"),Sr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Lt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Cr=Q("RegExp"),un=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Fe(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},jr=e=>{un(e,(t,n)=>{if(z(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(z(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rr=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ve(e)?r(e):r(String(e).split(t)),n},Nr=()=>{},_r=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Fr(e){return!!(e&&z(e.append)&&e[sn]==="FormData"&&e[De])}const Pr=e=>{const t=new Array(10),n=(r,s)=>{if(_e(r)){if(t.indexOf(r)>=0)return;if(Ne(r))return r;if(!("toJSON"in r)){t[s]=r;const i=ve(r)?[]:{};return Fe(r,(a,l)=>{const g=n(a,s+1);!ye(g)&&(i[l]=g)}),t[s]=void 0,i}}return r};return n(e,0)},Er=Q("AsyncFunction"),$r=e=>e&&(_e(e)||z(e))&&z(e.then)&&z(e.catch),dn=((e,t)=>e?setImmediate:t?((n,r)=>(ue.addEventListener("message",({source:s,data:i})=>{s===ue&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ue.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",z(ue.postMessage)),Ar=typeof queueMicrotask<"u"?queueMicrotask.bind(ue):typeof process<"u"&&process.nextTick||dn,kr=e=>e!=null&&z(e[De]),x={isArray:ve,isArrayBuffer:on,isBuffer:Ne,isFormData:or,isArrayBufferView:Qn,isString:Xn,isNumber:an,isBoolean:Yn,isObject:_e,isPlainObject:Le,isEmptyObject:Zn,isReadableStream:ar,isRequest:lr,isResponse:cr,isHeaders:ur,isUndefined:ye,isDate:er,isFile:tr,isBlob:nr,isRegExp:Cr,isFunction:z,isStream:sr,isURLSearchParams:ir,isTypedArray:yr,isFileList:rr,forEach:Fe,merge:gt,extend:gr,trim:dr,stripBOM:mr,inherits:pr,toFlatObject:fr,kindOf:ze,kindOfTest:Q,endsWith:hr,toArray:xr,forEachEntry:vr,matchAll:wr,isHTMLForm:br,hasOwnProperty:Lt,hasOwnProp:Lt,reduceDescriptors:un,freezeMethods:jr,toObjectSet:Rr,toCamelCase:Sr,noop:Nr,toFiniteNumber:_r,findKey:ln,global:ue,isContextDefined:cn,isSpecCompliantForm:Fr,toJSONObject:Pr,isAsyncFn:Er,isThenable:$r,setImmediate:dn,asap:Ar,isIterable:kr};function F(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}x.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const gn=F.prototype,mn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mn[e]={value:e}});Object.defineProperties(F,mn);Object.defineProperty(gn,"isAxiosError",{value:!0});F.from=(e,t,n,r,s,i)=>{const a=Object.create(gn);x.toFlatObject(e,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return F.call(a,l,g,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const Mr=null;function mt(e){return x.isPlainObject(e)||x.isArray(e)}function pn(e){return x.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,n){return e?e.concat(t).map(function(s,i){return s=pn(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Ir(e){return x.isArray(e)&&!e.some(mt)}const Lr=x.toFlatObject(x,{},null,function(t){return/^is[A-Z]/.test(t)});function He(e,t,n){if(!x.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=x.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,y){return!x.isUndefined(y[h])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(t);if(!x.isFunction(s))throw new TypeError("visitor must be a function");function c(u){if(u===null)return"";if(x.isDate(u))return u.toISOString();if(x.isBoolean(u))return u.toString();if(!g&&x.isBlob(u))throw new F("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(u)||x.isTypedArray(u)?g&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function d(u,h,y){let v=u;if(u&&!y&&typeof u=="object"){if(x.endsWith(h,"{}"))h=r?h:h.slice(0,-2),u=JSON.stringify(u);else if(x.isArray(u)&&Ir(u)||(x.isFileList(u)||x.endsWith(h,"[]"))&&(v=x.toArray(u)))return h=pn(h),v.forEach(function(R,S){!(x.isUndefined(R)||R===null)&&t.append(a===!0?Ot([h],S,i):a===null?h:h+"[]",c(R))}),!1}return mt(u)?!0:(t.append(Ot(y,h,i),c(u)),!1)}const m=[],f=Object.assign(Lr,{defaultVisitor:d,convertValue:c,isVisitable:mt});function p(u,h){if(!x.isUndefined(u)){if(m.indexOf(u)!==-1)throw Error("Circular reference detected in "+h.join("."));m.push(u),x.forEach(u,function(v,N){(!(x.isUndefined(v)||v===null)&&s.call(t,v,x.isString(N)?N.trim():N,h,f))===!0&&p(v,h?h.concat(N):[N])}),m.pop()}}if(!x.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Vt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jt(e,t){this._pairs=[],e&&He(e,this,t)}const fn=jt.prototype;fn.append=function(t,n){this._pairs.push([t,n])};fn.toString=function(t){const n=t?function(r){return t.call(this,r,Vt)}:Vt;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Or(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hn(e,t,n){if(!t)return e;const r=n&&n.encode||Or;x.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=x.isURLSearchParams(t)?t.toString():new jt(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Tt{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){x.forEach(this.handlers,function(r){r!==null&&t(r)})}}const xn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vr=typeof URLSearchParams<"u"?URLSearchParams:jt,Tr=typeof FormData<"u"?FormData:null,Dr=typeof Blob<"u"?Blob:null,zr={isBrowser:!0,classes:{URLSearchParams:Vr,FormData:Tr,Blob:Dr},protocols:["http","https","file","blob","url","data"]},Rt=typeof window<"u"&&typeof document<"u",pt=typeof navigator=="object"&&navigator||void 0,Br=Rt&&(!pt||["ReactNative","NativeScript","NS"].indexOf(pt.product)<0),Hr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qr=Rt&&window.location.href||"http://localhost",Gr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rt,hasStandardBrowserEnv:Br,hasStandardBrowserWebWorkerEnv:Hr,navigator:pt,origin:qr},Symbol.toStringTag,{value:"Module"})),O={...Gr,...zr};function Ur(e,t){return He(e,new O.classes.URLSearchParams,{visitor:function(n,r,s,i){return O.isNode&&x.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Kr(e){return x.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Wr(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function yn(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),g=i>=n.length;return a=!a&&x.isArray(s)?s.length:a,g?(x.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!x.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&x.isArray(s[a])&&(s[a]=Wr(s[a])),!l)}if(x.isFormData(e)&&x.isFunction(e.entries)){const n={};return x.forEachEntry(e,(r,s)=>{t(Kr(r),s,n,0)}),n}return null}function Jr(e,t,n){if(x.isString(e))try{return(t||JSON.parse)(e),x.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Pe={transitional:xn,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=x.isObject(t);if(i&&x.isHTMLForm(t)&&(t=new FormData(t)),x.isFormData(t))return s?JSON.stringify(yn(t)):t;if(x.isArrayBuffer(t)||x.isBuffer(t)||x.isStream(t)||x.isFile(t)||x.isBlob(t)||x.isReadableStream(t))return t;if(x.isArrayBufferView(t))return t.buffer;if(x.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ur(t,this.formSerializer).toString();if((l=x.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return He(l?{"files[]":t}:t,g&&new g,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Jr(t)):t}],transformResponse:[function(t){const n=this.transitional||Pe.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(x.isResponse(t)||x.isReadableStream(t))return t;if(t&&x.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?F.from(l,F.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:O.classes.FormData,Blob:O.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],e=>{Pe.headers[e]={}});const Qr=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xr=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&Qr[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Dt=Symbol("internals");function Se(e){return e&&String(e).trim().toLowerCase()}function Oe(e){return e===!1||e==null?e:x.isArray(e)?e.map(Oe):String(e)}function Yr(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Zr=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function et(e,t,n,r,s){if(x.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!x.isString(t)){if(x.isString(r))return t.indexOf(r)!==-1;if(x.isRegExp(r))return r.test(t)}}function es(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ts(e,t){const n=x.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}let B=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,g,c){const d=Se(g);if(!d)throw new Error("header name must be a non-empty string");const m=x.findKey(s,d);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||g]=Oe(l))}const a=(l,g)=>x.forEach(l,(c,d)=>i(c,d,g));if(x.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(x.isString(t)&&(t=t.trim())&&!Zr(t))a(Xr(t),n);else if(x.isObject(t)&&x.isIterable(t)){let l={},g,c;for(const d of t){if(!x.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(g=l[c])?x.isArray(g)?[...g,d[1]]:[g,d[1]]:d[1]}a(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Se(t),t){const r=x.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Yr(s);if(x.isFunction(n))return n.call(this,s,r);if(x.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Se(t),t){const r=x.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||et(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=Se(a),a){const l=x.findKey(r,a);l&&(!n||et(r,r[l],l,n))&&(delete r[l],s=!0)}}return x.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||et(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return x.forEach(this,(s,i)=>{const a=x.findKey(r,i);if(a){n[a]=Oe(s),delete n[i];return}const l=t?es(i):String(i).trim();l!==i&&delete n[i],n[l]=Oe(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return x.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&x.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Dt]=this[Dt]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Se(a);r[l]||(ts(s,a),r[l]=!0)}return x.isArray(t)?t.forEach(i):i(t),this}};B.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(B.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});x.freezeMethods(B);function tt(e,t){const n=this||Pe,r=t||n,s=B.from(r.headers);let i=r.data;return x.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function vn(e){return!!(e&&e.__CANCEL__)}function we(e,t,n){F.call(this,e??"canceled",F.ERR_CANCELED,t,n),this.name="CanceledError"}x.inherits(we,F,{__CANCEL__:!0});function wn(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new F("Request failed with status code "+n.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ns(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rs(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(g){const c=Date.now(),d=r[i];a||(a=c),n[s]=g,r[s]=c;let m=i,f=0;for(;m!==s;)f+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-a<t)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function ss(e,t){let n=0,r=1e3/t,s,i;const a=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),m=d-n;m>=r?a(c,d):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},r-m)))},()=>s&&a(s)]}const Te=(e,t,n=3)=>{let r=0;const s=rs(50,250);return ss(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,g=a-r,c=s(g),d=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:g,rate:c||void 0,estimated:c&&l&&d?(l-a)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},zt=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Bt=e=>(...t)=>x.asap(()=>e(...t)),os=O.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,O.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(O.origin),O.navigator&&/(msie|trident)/i.test(O.navigator.userAgent)):()=>!0,is=O.hasStandardBrowserEnv?{write(e,t,n,r,s,i,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];x.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),x.isString(r)&&l.push(`path=${r}`),x.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),x.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function as(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ls(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bn(e,t,n){let r=!as(t);return e&&(r||n==!1)?ls(e,t):t}const Ht=e=>e instanceof B?{...e}:e;function ge(e,t){t=t||{};const n={};function r(c,d,m,f){return x.isPlainObject(c)&&x.isPlainObject(d)?x.merge.call({caseless:f},c,d):x.isPlainObject(d)?x.merge({},d):x.isArray(d)?d.slice():d}function s(c,d,m,f){if(x.isUndefined(d)){if(!x.isUndefined(c))return r(void 0,c,m,f)}else return r(c,d,m,f)}function i(c,d){if(!x.isUndefined(d))return r(void 0,d)}function a(c,d){if(x.isUndefined(d)){if(!x.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,m){if(m in t)return r(c,d);if(m in e)return r(void 0,c)}const g={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,d,m)=>s(Ht(c),Ht(d),m,!0)};return x.forEach(Object.keys({...e,...t}),function(d){const m=g[d]||s,f=m(e[d],t[d],d);x.isUndefined(f)&&m!==l||(n[d]=f)}),n}const Sn=e=>{const t=ge({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=B.from(a),t.url=hn(bn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),x.isFormData(n)){if(O.hasStandardBrowserEnv||O.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(x.isFunction(n.getHeaders)){const g=n.getHeaders(),c=["content-type","content-length"];Object.entries(g).forEach(([d,m])=>{c.includes(d.toLowerCase())&&a.set(d,m)})}}if(O.hasStandardBrowserEnv&&(r&&x.isFunction(r)&&(r=r(t)),r||r!==!1&&os(t.url))){const g=s&&i&&is.read(i);g&&a.set(s,g)}return t},cs=typeof XMLHttpRequest<"u",us=cs&&function(e){return new Promise(function(n,r){const s=Sn(e);let i=s.data;const a=B.from(s.headers).normalize();let{responseType:l,onUploadProgress:g,onDownloadProgress:c}=s,d,m,f,p,u;function h(){p&&p(),u&&u(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function v(){if(!y)return;const R=B.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:R,config:e,request:y};wn(function(M){n(M),h()},function(M){r(M),h()},_),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new F("Request aborted",F.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const _=S&&S.message?S.message:"Network Error",I=new F(_,F.ERR_NETWORK,e,y);I.event=S||null,r(I),y=null},y.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||xn;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new F(S,_.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&x.forEach(a.toJSON(),function(S,_){y.setRequestHeader(_,S)}),x.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),c&&([f,u]=Te(c,!0),y.addEventListener("progress",f)),g&&y.upload&&([m,p]=Te(g),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=R=>{y&&(r(!R||R.type?new we(null,e,y):R),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const N=ns(s.url);if(N&&O.protocols.indexOf(N)===-1){r(new F("Unsupported protocol "+N+":",F.ERR_BAD_REQUEST,e));return}y.send(i||null)})},ds=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,l();const d=c instanceof Error?c:this.reason;r.abort(d instanceof F?d:new we(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new F(`timeout ${t} of ms exceeded`,F.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:g}=r;return g.unsubscribe=()=>x.asap(l),g}},gs=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},ms=async function*(e,t){for await(const n of ps(e))yield*gs(n,t)},ps=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},qt=(e,t,n,r)=>{const s=ms(e,t);let i=0,a,l=g=>{a||(a=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:c,value:d}=await s.next();if(c){l(),g.close();return}let m=d.byteLength;if(n){let f=i+=m;n(f)}g.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(g){return l(g),s.return()}},{highWaterMark:2})},Gt=64*1024,{isFunction:Ae}=x,fs=(({Request:e,Response:t})=>({Request:e,Response:t}))(x.global),{ReadableStream:Ut,TextEncoder:Kt}=x.global,Wt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hs=e=>{e=x.merge.call({skipUndefined:!0},fs,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ae(t):typeof fetch=="function",i=Ae(n),a=Ae(r);if(!s)return!1;const l=s&&Ae(Ut),g=s&&(typeof Kt=="function"?(u=>h=>u.encode(h))(new Kt):async u=>new Uint8Array(await new n(u).arrayBuffer())),c=i&&l&&Wt(()=>{let u=!1;const h=new n(O.origin,{body:new Ut,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!h}),d=a&&l&&Wt(()=>x.isReadableStream(new r("").body)),m={stream:d&&(u=>u.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(u=>{!m[u]&&(m[u]=(h,y)=>{let v=h&&h[u];if(v)return v.call(h);throw new F(`Response type '${u}' is not supported`,F.ERR_NOT_SUPPORT,y)})});const f=async u=>{if(u==null)return 0;if(x.isBlob(u))return u.size;if(x.isSpecCompliantForm(u))return(await new n(O.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(x.isArrayBufferView(u)||x.isArrayBuffer(u))return u.byteLength;if(x.isURLSearchParams(u)&&(u=u+""),x.isString(u))return(await g(u)).byteLength},p=async(u,h)=>{const y=x.toFiniteNumber(u.getContentLength());return y??f(h)};return async u=>{let{url:h,method:y,data:v,signal:N,cancelToken:R,timeout:S,onDownloadProgress:_,onUploadProgress:I,responseType:M,headers:ee,withCredentials:ne="same-origin",fetchOptions:A}=Sn(u),w=t||fetch;M=M?(M+"").toLowerCase():"text";let E=ds([N,R&&R.toAbortSignal()],S),X=null;const q=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let re;try{if(I&&c&&y!=="get"&&y!=="head"&&(re=await p(ee,v))!==0){let oe=new n(h,{method:"POST",body:v,duplex:"half"}),fe;if(x.isFormData(v)&&(fe=oe.headers.get("content-type"))&&ee.setContentType(fe),oe.body){const[Ke,Ee]=zt(re,Te(Bt(I)));v=qt(oe.body,Gt,Ke,Ee)}}x.isString(ne)||(ne=ne?"include":"omit");const Y=i&&"credentials"in n.prototype,At={...A,signal:E,method:y.toUpperCase(),headers:ee.normalize().toJSON(),body:v,duplex:"half",credentials:Y?ne:void 0};X=i&&new n(h,At);let se=await(i?w(X,A):w(h,At));const kt=d&&(M==="stream"||M==="response");if(d&&(_||kt&&q)){const oe={};["status","statusText","headers"].forEach(Mt=>{oe[Mt]=se[Mt]});const fe=x.toFiniteNumber(se.headers.get("content-length")),[Ke,Ee]=_&&zt(fe,Te(Bt(_),!0))||[];se=new r(qt(se.body,Gt,Ke,()=>{Ee&&Ee(),q&&q()}),oe)}M=M||"text";let Tn=await m[x.findKey(m,M)||"text"](se,u);return!kt&&q&&q(),await new Promise((oe,fe)=>{wn(oe,fe,{data:Tn,headers:B.from(se.headers),status:se.status,statusText:se.statusText,config:u,request:X})})}catch(Y){throw q&&q(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,u,X),{cause:Y.cause||Y}):F.from(Y,Y&&Y.code,u,X)}}},xs=new Map,Cn=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a=i.length,l=a,g,c,d=xs;for(;l--;)g=i[l],c=d.get(g),c===void 0&&d.set(g,c=l?new Map:hs(t)),d=c;return c};Cn();const Nt={http:Mr,xhr:us,fetch:{get:Cn}};x.forEach(Nt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jt=e=>`- ${e}`,ys=e=>x.isFunction(e)||e===null||e===!1;function vs(e,t){e=x.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){r=e[a];let l;if(s=r,!ys(r)&&(s=Nt[(l=String(r)).toLowerCase()],s===void 0))throw new F(`Unknown adapter '${l}'`);if(s&&(x.isFunction(s)||(s=s.get(t))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([g,c])=>`adapter ${g} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Jt).join(`
`):" "+Jt(a[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const jn={getAdapter:vs,adapters:Nt};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new we(null,e)}function Qt(e){return nt(e),e.headers=B.from(e.headers),e.data=tt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jn.getAdapter(e.adapter||Pe.adapter,e)(e).then(function(r){return nt(e),r.data=tt.call(e,e.transformResponse,r),r.headers=B.from(r.headers),r},function(r){return vn(r)||(nt(e),r&&r.response&&(r.response.data=tt.call(e,e.transformResponse,r.response),r.response.headers=B.from(r.response.headers))),Promise.reject(r)})}const Rn="1.13.2",qe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qe[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Xt={};qe.transitional=function(t,n,r){function s(i,a){return"[Axios v"+Rn+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new F(s(a," has been removed"+(n?" in "+n:"")),F.ERR_DEPRECATED);return n&&!Xt[a]&&(Xt[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};qe.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ws(e,t,n){if(typeof e!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const l=e[i],g=l===void 0||a(l,i,e);if(g!==!0)throw new F("option "+i+" must be "+g,F.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new F("Unknown option "+i,F.ERR_BAD_OPTION)}}const Ve={assertOptions:ws,validators:qe},Z=Ve.validators;let de=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Tt,response:new Tt}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ge(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ve.assertOptions(r,{silentJSONParsing:Z.transitional(Z.boolean),forcedJSONParsing:Z.transitional(Z.boolean),clarifyTimeoutError:Z.transitional(Z.boolean)},!1),s!=null&&(x.isFunction(s)?n.paramsSerializer={serialize:s}:Ve.assertOptions(s,{encode:Z.function,serialize:Z.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ve.assertOptions(n,{baseUrl:Z.spelling("baseURL"),withXsrfToken:Z.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&x.merge(i.common,i[n.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],u=>{delete i[u]}),n.headers=B.concat(a,i);const l=[];let g=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(g=g&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});const c=[];this.interceptors.response.forEach(function(h){c.push(h.fulfilled,h.rejected)});let d,m=0,f;if(!g){const u=[Qt.bind(this),void 0];for(u.unshift(...l),u.push(...c),f=u.length,d=Promise.resolve(n);m<f;)d=d.then(u[m++],u[m++]);return d}f=l.length;let p=n;for(;m<f;){const u=l[m++],h=l[m++];try{p=u(p)}catch(y){h.call(this,y);break}}try{d=Qt.call(this,p)}catch(u){return Promise.reject(u)}for(m=0,f=c.length;m<f;)d=d.then(c[m++],c[m++]);return d}getUri(t){t=ge(this.defaults,t);const n=bn(t.baseURL,t.url,t.allowAbsoluteUrls);return hn(n,t.params,t.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(t){de.prototype[t]=function(n,r){return this.request(ge(r||{},{method:t,url:n,data:(r||{}).data}))}});x.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(ge(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}de.prototype[t]=n(),de.prototype[t+"Form"]=n(!0)});let bs=class Nn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new we(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Nn(function(s){t=s}),cancel:t}}};function Ss(e){return function(n){return e.apply(null,n)}}function Cs(e){return x.isObject(e)&&e.isAxiosError===!0}const ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ft).forEach(([e,t])=>{ft[t]=e});function _n(e){const t=new de(e),n=rn(de.prototype.request,t);return x.extend(n,de.prototype,t,{allOwnKeys:!0}),x.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return _n(ge(e,s))},n}const k=_n(Pe);k.Axios=de;k.CanceledError=we;k.CancelToken=bs;k.isCancel=vn;k.VERSION=Rn;k.toFormData=He;k.AxiosError=F;k.Cancel=k.CanceledError;k.all=function(t){return Promise.all(t)};k.spread=Ss;k.isAxiosError=Cs;k.mergeConfig=ge;k.AxiosHeaders=B;k.formToJSON=e=>yn(x.isHTMLForm(e)?new FormData(e):e);k.getAdapter=jn.getAdapter;k.HttpStatusCode=ft;k.default=k;const{Axios:Ai,AxiosError:ki,CanceledError:Mi,isCancel:Ii,CancelToken:Li,VERSION:Oi,all:Vi,Cancel:Ti,isAxiosError:Di,spread:zi,toFormData:Bi,AxiosHeaders:Hi,HttpStatusCode:qi,formToJSON:Gi,getAdapter:Ui,mergeConfig:Ki}=k,$=k.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});$.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});$.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const rt={register:e=>$.post("/auth/register",e),login:e=>$.post("/auth/login",e),me:()=>$.get("/auth/me")},D={getAll:()=>$.get("/games"),getGenreStats:()=>$.get("/games/stats/genres"),export:e=>$.get(`/games/export?format=${e}`,{responseType:"blob"}),getOne:e=>$.get(`/games/${e}`),updateStatus:(e,t,n)=>$.patch(`/games/${e}/status`,{platform_id:t,status:n}),updateRating:(e,t,n)=>$.put(`/games/${e}/rating`,{platform_id:t,rating:n}),updateNotes:(e,t,n)=>$.post(`/games/${e}/notes`,{platform_id:t,notes:n}),toggleFavorite:(e,t,n)=>$.put(`/games/${e}/favorite`,{platform_id:t,is_favorite:n}),getCustomFields:e=>$.get(`/games/${e}/custom-fields`),updateCustomFields:(e,t,n)=>$.put(`/games/${e}/custom-fields`,{platform_id:t,...n})},js={bulk:(e,t)=>$.post("/import/bulk",{gameNames:e,platformId:t})},W={getAll:()=>$.get("/collections"),getOne:e=>$.get(`/collections/${e}/games`),create:(e,t)=>$.post("/collections",{name:e,description:t}),update:(e,t,n)=>$.put(`/collections/${e}`,{name:t,description:n}),delete:e=>$.delete(`/collections/${e}`),addGame:(e,t)=>$.post(`/collections/${e}/games`,{game_id:t}),removeGame:(e,t)=>$.delete(`/collections/${e}/games/${t}`),getSeries:()=>$.get("/collections/series"),getSeriesGames:e=>$.get(`/collections/series/${encodeURIComponent(e)}/games`)},Fn=b.createContext(void 0);function Rs({children:e}){const[t,n]=b.useState(null),[r,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{const d=localStorage.getItem("token"),m=localStorage.getItem("user");d&&m?(s(d),n(JSON.parse(m)),rt.me().then(()=>a(!1)).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),n(null),a(!1)})):a(!1)},[]);const l=async(d,m)=>{const f=await rt.login({email:d,password:m}),{user:p,token:u}=f.data;n(p),s(u),localStorage.setItem("token",u),localStorage.setItem("user",JSON.stringify(p))},g=async(d,m,f)=>{const p=await rt.register({username:d,email:m,password:f}),{user:u,token:h}=p.data;n(u),s(h),localStorage.setItem("token",h),localStorage.setItem("user",JSON.stringify(u))},c=()=>{n(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return o.jsx(Fn.Provider,{value:{user:t,token:r,isLoading:i,login:l,register:g,logout:c},children:e})}function be(){const e=b.useContext(Fn);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Pn=b.createContext(void 0);function Ns({children:e}){const[t,n]=b.useState([]),r=b.useCallback((i,a="info")=>{const l=Math.random().toString(36).substring(7),g={id:l,message:i,type:a};n(c=>[...c,g]),setTimeout(()=>{n(c=>c.filter(d=>d.id!==l))},3e3)},[]),s=b.useCallback(i=>{n(a=>a.filter(l=>l.id!==i))},[]);return o.jsxs(Pn.Provider,{value:{toasts:t,showToast:r,removeToast:s},children:[e,o.jsx(_s,{toasts:t,onRemove:s})]})}function pe(){const e=b.useContext(Pn);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function _s({toasts:e,onRemove:t}){return e.length===0?null:o.jsx("div",{className:"fixed bottom-20 md:bottom-6 right-6 z-50 space-y-2",children:e.map(n=>o.jsx(Fs,{toast:n,onRemove:t},n.id))})}function Fs({toast:e,onRemove:t}){const n={success:"bg-primary-green/20 border-primary-green text-primary-green",error:"bg-primary-red/20 border-primary-red text-primary-red",warning:"bg-primary-yellow/20 border-primary-yellow text-primary-yellow",info:"bg-primary-cyan/20 border-primary-cyan text-primary-cyan"},r={success:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};return o.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg backdrop-blur-sm min-w-[300px] max-w-[400px] animate-slide-in ${n[e.type]}`,children:[o.jsx("div",{className:"flex-shrink-0",children:r[e.type]}),o.jsx("p",{className:"flex-1 text-sm font-medium",children:e.message}),o.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 hover:opacity-70 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}const ce=Dn({beforeLoad:()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;return{auth:{token:e,user:t}}},component:()=>o.jsxs(o.Fragment,{children:[o.jsx(bt,{}),!1]})});function Ps(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[g,c]=b.useState(""),[d,m]=b.useState(!1),{register:f}=be(),p=Re(),u=async h=>{var y,v;if(h.preventDefault(),c(""),s!==a){c("Passwords do not match");return}if(s.length<8){c("Password must be at least 8 characters");return}m(!0);try{await f(e,n,s),p({to:"/dashboard"})}catch(N){c(((v=(y=N.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to register")}finally{m(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"card max-w-md w-full",children:[o.jsx("h1",{className:"text-primary-purple mb-6 text-center",children:"Create Account"}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[g&&o.jsx("div",{className:"bg-primary-red/20 border border-primary-red text-primary-red px-4 py-2 rounded",children:g}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username"}),o.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),className:"input w-full",placeholder:"Enter username",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsx("input",{type:"email",value:n,onChange:h=>r(h.target.value),className:"input w-full",placeholder:"Enter email",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),o.jsx("input",{type:"password",value:s,onChange:h=>i(h.target.value),className:"input w-full",placeholder:"Enter password",required:!0,minLength:8})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",value:a,onChange:h=>l(h.target.value),className:"input w-full",placeholder:"Confirm password",required:!0})]}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:d,children:d?"Creating account...":"Register"})]}),o.jsxs("p",{className:"text-center mt-4 text-zinc-400",children:["Already have an account?"," ",o.jsx(P,{to:"/login",className:"text-primary-cyan hover:text-cyan-400 transition-colors",children:"Login"})]})]})})}const Es=K("/register")({beforeLoad:({context:e})=>{if(e.auth.token)throw ae({to:"/dashboard"})},component:Ps});function $s(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),{login:g}=be(),c=Re(),d=async m=>{var f,p;m.preventDefault(),i(""),l(!0);try{await g(e,n),c({to:"/dashboard"})}catch(u){i(((p=(f=u.response)==null?void 0:f.data)==null?void 0:p.error)||"Failed to login")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"card max-w-md w-full",children:[o.jsx("h1",{className:"text-primary-purple mb-6 text-center",children:"GameList"}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s&&o.jsx("div",{className:"bg-primary-red/20 border border-primary-red text-primary-red px-4 py-2 rounded",children:s}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsx("input",{type:"email",value:e,onChange:m=>t(m.target.value),className:"input w-full",placeholder:"Enter email",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),o.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),className:"input w-full",placeholder:"Enter password",required:!0})]}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?"Logging in...":"Login"})]}),o.jsxs("p",{className:"text-center mt-4 text-zinc-400",children:["Don't have an account?"," ",o.jsx(P,{to:"/register",className:"text-primary-cyan hover:text-cyan-400 transition-colors",children:"Register"})]})]})})}const As=K("/login")({beforeLoad:({context:e})=>{if(e.auth.token)throw ae({to:"/dashboard"})},component:$s}),ks=K("/library")({beforeLoad:({context:e})=>{if(!e.auth.token)throw ae({to:"/login"})},component:()=>o.jsx(bt,{})});function Ms(){const[e,t]=b.useState(!1),[n,r]=b.useState(""),s=b.useRef(null),i=Re(),{data:a}=H({queryKey:["games"],queryFn:async()=>(await D.getAll()).data}),l=(a==null?void 0:a.games)||[],g=n.trim()?l.filter(d=>{var u;const m=n.toLowerCase(),f=d.name.toLowerCase().includes(m),p=(u=d.notes)==null?void 0:u.toLowerCase().includes(m);return f||p}).slice(0,10):[];b.useEffect(()=>{const d=m=>{(m.metaKey||m.ctrlKey)&&m.key==="k"&&(m.preventDefault(),t(!0)),m.key==="Escape"&&(t(!1),r(""))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),b.useEffect(()=>{e&&s.current&&s.current.focus()},[e]);const c=d=>{t(!1),r(""),i({to:"/library/$id",params:{id:d}})};return e?o.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-start justify-center z-50 p-4 pt-24",children:[o.jsx("div",{className:"absolute inset-0",onClick:()=>{t(!1),r("")}}),o.jsxs("div",{className:"relative w-full max-w-2xl bg-gray-900 border border-gray-700 rounded-lg shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-700",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),o.jsx("input",{ref:s,type:"text",value:n,onChange:d=>r(d.target.value),placeholder:"Search games by name or notes...",className:"flex-1 bg-transparent text-white text-lg focus:outline-none"}),o.jsx("kbd",{className:"px-2 py-1 text-xs text-gray-400 bg-gray-800 border border-gray-700 rounded",children:"ESC"})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.trim()===""?o.jsxs("div",{className:"p-8 text-center text-gray-400",children:[o.jsx("p",{className:"mb-2",children:"Start typing to search your library"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Search by game name or notes content"})]}):g.length===0?o.jsxs("div",{className:"p-8 text-center text-gray-400",children:['No games found matching "',n,'"']}):o.jsx("div",{className:"py-2",children:g.map(d=>o.jsxs("button",{onClick:()=>c(d.id),className:"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-800 transition-colors text-left",children:[d.cover_art_url?o.jsx("img",{src:d.cover_art_url,alt:d.name,className:"w-12 h-16 object-cover rounded"}):o.jsx("div",{className:"w-12 h-16 bg-gray-800 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 text-xs",children:"No img"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-white font-medium truncate",children:d.name}),o.jsx("div",{className:"text-sm text-gray-400",children:d.platform_display_name})]})]},d.id))})}),o.jsxs("div",{className:"p-3 border-t border-gray-700 flex items-center justify-between text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("kbd",{className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded",children:""}),o.jsx("kbd",{className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded",children:""}),o.jsx("span",{children:"Navigate"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("kbd",{className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded",children:"Enter"}),o.jsx("span",{children:"Select"})]})]}),o.jsxs("div",{children:[o.jsxs("kbd",{className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded",children:[navigator.platform.includes("Mac")?"":"Ctrl"," K"]}),o.jsx("span",{className:"ml-1",children:"to open"})]})]})]})]}):null}function Is(){var s;const{user:e,logout:t}=be(),[n,r]=b.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx(Ms,{}),o.jsx("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-gray-900 border-b border-gray-800 z-50",children:o.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-8",children:[o.jsxs(P,{to:"/",className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-purple to-primary-cyan rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"G"})}),o.jsx("span",{className:"text-white font-bold text-xl",children:"GameList"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[o.jsx(P,{to:"/dashboard",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Dashboard"}),o.jsx(P,{to:"/library",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Library"}),o.jsx(P,{to:"/collections",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Collections"}),o.jsx(P,{to:"/import",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Import"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 px-3 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-cyan to-primary-purple rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium text-sm",children:((s=e==null?void 0:e.username)==null?void 0:s.charAt(0).toUpperCase())||"U"})}),o.jsx("span",{className:"hidden md:inline text-sm",children:e==null?void 0:e.username}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",children:o.jsx("div",{className:"py-1",children:o.jsx("button",{onClick:()=>{r(!1),t()},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",children:"Logout"})})})]})]})]})})]})}function Ls({children:e}){var d;const{user:t}=be(),{data:n}=H({queryKey:["games"],queryFn:async()=>(await D.getAll()).data}),{data:r}=H({queryKey:["collections"],queryFn:async()=>(await W.getAll()).data}),s=(n==null?void 0:n.games)||[],i=s.length,a=s.filter(m=>m.status==="playing").length,l=s.filter(m=>m.status==="completed"||m.status==="finished").length,g=s.filter(m=>m.is_favorite===!0).length,c=(r==null?void 0:r.collections)||[];return o.jsx("aside",{className:"hidden md:block fixed left-0 top-16 bottom-0 w-60 bg-gray-900 border-r border-gray-800 overflow-y-auto",children:o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsx("div",{className:"pb-4 border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-cyan to-primary-purple rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium",children:((d=t==null?void 0:t.username)==null?void 0:d.charAt(0).toUpperCase())||"U"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-white truncate",children:t==null?void 0:t.username}),o.jsx("p",{className:"text-xs text-gray-400",children:t==null?void 0:t.email})]})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Quick Stats"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Total Games"}),o.jsx("span",{className:"text-white font-medium",children:i})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Playing"}),o.jsx("span",{className:"text-primary-cyan font-medium",children:a})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Completed"}),o.jsx("span",{className:"text-primary-green font-medium",children:l})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Favorites"}),o.jsx("span",{className:"text-red-400 font-medium",children:g})]})]})]}),c.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"My Collections"}),o.jsxs("div",{className:"space-y-1",children:[c.slice(0,5).map(m=>o.jsxs(P,{to:"/collections/$id",params:{id:m.id},className:"flex items-center justify-between text-sm px-2 py-1.5 rounded hover:bg-gray-800 transition-colors",children:[o.jsx("span",{className:"text-gray-300 truncate",children:m.name}),o.jsx("span",{className:"text-gray-500 text-xs",children:m.game_count})]},m.id)),c.length>5&&o.jsxs(P,{to:"/collections",className:"text-xs text-primary-cyan hover:text-primary-purple transition-colors block px-2 py-1",children:["View all (",c.length,")"]})]})]}),e&&o.jsx("div",{children:e})]})})}function Os(){var t;const{user:e}=be();return o.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-gray-900 border-t border-gray-800 z-50",children:o.jsxs("div",{className:"h-full grid grid-cols-5 gap-1",children:[o.jsxs(P,{to:"/dashboard",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),o.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),o.jsxs(P,{to:"/library",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{className:"text-xs mt-1",children:"Library"})]}),o.jsxs(P,{to:"/collections",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{className:"text-xs mt-1",children:"Collections"})]}),o.jsxs(P,{to:"/import",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),o.jsx("span",{className:"text-xs mt-1",children:"Import"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary-cyan to-primary-purple rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium text-xs",children:((t=e==null?void 0:e.username)==null?void 0:t.charAt(0).toUpperCase())||"U"})}),o.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})})}function T({children:e,sidebar:t}){return o.jsxs("div",{className:"min-h-screen bg-gray-950 text-white",children:[o.jsx(Is,{}),o.jsxs("div",{className:"pt-16 md:pb-0 pb-16",children:[o.jsx(Ls,{children:t}),o.jsx("main",{className:"md:ml-60 min-h-[calc(100vh-4rem)]",children:o.jsx("div",{className:"p-6",children:e})})]}),o.jsx(Os,{})]})}function Vs(){var p;const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(null),a=me(),l=Re(),{showToast:g}=pe(),{data:c}=H({queryKey:["platforms"],queryFn:async()=>{const u=localStorage.getItem("token");return(await k.get("/api/platforms",{headers:{Authorization:`Bearer ${u}`}})).data}}),d=(c==null?void 0:c.platforms)||[];if(d.length>0&&!n){const u=d.find(h=>h.name==="steam");r((u==null?void 0:u.id)||d[0].id)}const m=U({mutationFn:({names:u,platformId:h})=>js.bulk(u,h),onSuccess:u=>{i(u.data),a.invalidateQueries({queryKey:["games"]});const h=u.data;h.imported.length>0&&g(`Successfully imported ${h.imported.length} game(s)`,"success"),h.needsReview.length>0&&g(`${h.needsReview.length} game(s) need review`,"warning"),h.needsReview.length===0&&h.imported.length>0&&setTimeout(()=>{l({to:"/library"})},2e3)},onError:()=>{g("Failed to import games","error")}}),f=()=>{const u=e.split(`
`).map(h=>h.trim()).filter(h=>h.length>0);u.length!==0&&n&&(i(null),m.mutate({names:u,platformId:n}))};return o.jsx(T,{children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Import Games"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Paste game names (one per line) and we'll automatically enrich them with metadata"}),o.jsxs("div",{className:"card mb-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium mb-3",children:"Platform (Required)"}),o.jsx("div",{className:"flex gap-2 flex-wrap",children:d.map(u=>o.jsx("button",{type:"button",onClick:()=>r(u.id),disabled:m.isPending,className:`px-4 py-2 rounded border transition-all ${n===u.id?"bg-primary-purple border-purple-500 text-white shadow-glow-purple":"bg-bg-secondary border-zinc-700 text-zinc-400 hover:border-zinc-500"}`,children:u.display_name},u.id))}),n&&o.jsxs("p",{className:"text-xs text-primary-cyan mt-2",children:["Games will be imported to ",(p=d.find(u=>u.id===n))==null?void 0:p.display_name]})]}),o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Game Names"}),o.jsx("textarea",{value:e,onChange:u=>t(u.target.value),className:"input w-full min-h-[300px] font-mono text-sm",placeholder:`The Witcher 3
God of War
Halo Infinite
Cyberpunk 2077
Elden Ring`,disabled:m.isPending}),o.jsxs("div",{className:"mt-4 flex gap-4",children:[o.jsx("button",{onClick:f,disabled:m.isPending||!e.trim()||!n,className:"btn btn-primary",children:m.isPending?"Importing...":"Import Games"}),s&&s.imported.length>0&&s.needsReview.length===0&&o.jsx(P,{to:"/library",className:"btn btn-primary",children:"View Library"}),s&&o.jsx("button",{onClick:()=>{t(""),i(null)},className:"btn btn-secondary",children:"Clear"})]}),m.isError&&o.jsx("div",{className:"mt-4 bg-primary-red/20 border border-primary-red text-primary-red px-4 py-2 rounded",children:"Failed to import games. Please try again."})]}),m.isPending&&o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-primary-purple border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-zinc-400",children:"Importing and enriching games..."})]})}),s&&o.jsxs("div",{className:"space-y-6",children:[s.imported.length>0&&o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary-green",children:["Successfully Imported (",s.imported.length,")"]}),o.jsx("div",{className:"space-y-3",children:s.imported.map((u,h)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 bg-bg-secondary rounded border border-zinc-700",children:[u.game.cover_art_url?o.jsx("img",{src:u.game.cover_art_url,alt:u.game.name,className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-zinc-800 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-zinc-600 text-xs",children:"No image"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium",children:u.game.name}),o.jsx("p",{className:"text-sm text-zinc-500",children:u.source==="exact"?"Exact match":"Best match"})]}),o.jsx("div",{className:"text-primary-green",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},h))})]}),s.needsReview.length>0&&o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary-yellow",children:["Needs Review (",s.needsReview.length,")"]}),o.jsx("div",{className:"space-y-4",children:s.needsReview.map((u,h)=>o.jsxs("div",{className:"p-4 bg-bg-secondary rounded border border-zinc-700",children:[o.jsxs("h3",{className:"font-medium mb-2",children:['"',u.searchTerm,'"']}),u.error?o.jsxs("p",{className:"text-sm text-primary-red",children:["Error: ",u.error]}):u.candidates.length===0?o.jsx("p",{className:"text-sm text-zinc-500",children:"No matches found"}):o.jsxs("div",{className:"space-y-2 mt-3",children:[o.jsxs("p",{className:"text-sm text-zinc-500",children:["Found ",u.candidates.length," possible matches:"]}),u.candidates.map(y=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-bg-hover rounded",children:[y.background_image&&o.jsx("img",{src:y.background_image,alt:y.name,className:"w-12 h-12 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:y.name}),y.released&&o.jsx("p",{className:"text-xs text-zinc-500",children:y.released})]}),o.jsx("button",{className:"btn btn-primary text-sm px-3 py-1",children:"Select"})]},y.id))]})]},h))})]})]})]})})}const Ts=K("/import")({beforeLoad:({context:e})=>{if(!e.auth.token)throw ae({to:"/login"})},component:Vs}),xe=b.forwardRef(({variant:e="primary",size:t="md",className:n="",children:r,...s},i)=>{const a="rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-950 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary-purple text-white hover:bg-primary-purple/80 focus:ring-primary-purple shadow-lg shadow-primary-purple/20",secondary:"bg-primary-cyan text-white hover:bg-primary-cyan/80 focus:ring-primary-cyan shadow-lg shadow-primary-cyan/20",ghost:"bg-transparent text-gray-300 hover:bg-gray-800 hover:text-white focus:ring-gray-700",danger:"bg-primary-red text-white hover:bg-primary-red/80 focus:ring-primary-red shadow-lg shadow-primary-red/20"},g={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return o.jsx("button",{ref:i,className:`${a} ${l[e]} ${g[t]} ${n}`,...s,children:r})});xe.displayName="Button";const Ds=b.forwardRef(({error:e,label:t,className:n="",...r},s)=>o.jsxs("div",{className:"w-full",children:[t&&o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:t}),o.jsx("input",{ref:s,className:`w-full bg-gray-900 border ${e?"border-primary-red":"border-gray-700"} rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-primary-purple transition-colors ${n}`,...r}),e&&o.jsx("p",{className:"mt-1 text-sm text-primary-red",children:e})]}));Ds.displayName="Input";function V({children:e,hover:t=!1,className:n="",...r}){return o.jsx("div",{className:`bg-gray-800/30 rounded-lg p-4 border border-gray-700/50 ${t?"hover:bg-gray-800/50 hover:border-gray-600 transition-all cursor-pointer":""} ${n}`,...r,children:e})}function st({variant:e="rectangular",width:t,height:n,className:r="",...s}){const i="animate-pulse bg-gray-800/50",a={text:"h-4 rounded",rectangular:"rounded-lg",circular:"rounded-full"},l={};return t&&(l.width=typeof t=="number"?`${t}px`:t),n&&(l.height=typeof n=="number"?`${n}px`:n),o.jsx("div",{className:`${i} ${a[e]} ${r}`,style:l,...s})}function zs(){return o.jsxs("div",{className:"space-y-3",children:[o.jsx(st,{variant:"rectangular",className:"aspect-[3/4] w-full"}),o.jsx(st,{variant:"text",width:"80%"}),o.jsx(st,{variant:"text",width:"60%"})]})}const Bs={backlog:"#71717A",playing:"#06B6D4",finished:"#10B981",completed:"#F59E0B",dropped:"#EF4444"},Yt=["#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444","#EC4899"],Zt=["#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444","#EC4899","#F472B6","#A78BFA","#34D399","#FBBF24"];function Hs(){const{data:e}=H({queryKey:["games"],queryFn:async()=>(await D.getAll()).data}),{data:t}=H({queryKey:["genreStats"],queryFn:async()=>(await D.getGenreStats()).data}),n=(e==null?void 0:e.games)||[],r=n.length,s=n.filter(m=>m.status==="playing").length,i=n.filter(m=>m.status==="completed"||m.status==="finished").length,a=n.filter(m=>m.status==="backlog").length,l=n.filter(m=>m.is_favorite===!0),g=b.useMemo(()=>{const m=n.reduce((f,p)=>{const u=p.status||"backlog";return f[u]=(f[u]||0)+1,f},{});return Object.entries(m).map(([f,p])=>({name:f.charAt(0).toUpperCase()+f.slice(1),value:p,color:Bs[f]||"#71717A"}))},[n]),c=b.useMemo(()=>{const m=n.reduce((f,p)=>{const u=p.platform_display_name||"Unknown";return f[u]=(f[u]||0)+1,f},{});return Object.entries(m).map(([f,p],u)=>({name:f,value:p,color:Yt[u%Yt.length]}))},[n]),d=b.useMemo(()=>t!=null&&t.genres?t.genres.map((m,f)=>({name:m.name,value:m.count,color:Zt[f%Zt.length]})):[],[t]);return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Dashboard"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs(V,{className:"bg-primary-purple/10 border-primary-purple/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Total Games"}),o.jsx("p",{className:"text-3xl font-bold text-white",children:r})]}),o.jsxs(V,{className:"bg-primary-cyan/10 border-primary-cyan/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Currently Playing"}),o.jsx("p",{className:"text-3xl font-bold text-primary-cyan",children:s})]}),o.jsxs(V,{className:"bg-primary-green/10 border-primary-green/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Completed"}),o.jsx("p",{className:"text-3xl font-bold text-primary-green",children:i})]}),o.jsxs(V,{className:"bg-gray-700/30 border-gray-600/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Backlog"}),o.jsx("p",{className:"text-3xl font-bold text-gray-300",children:a})]})]}),r>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Status Distribution"}),o.jsx(We,{width:"100%",height:300,children:o.jsxs(Je,{children:[o.jsx(Qe,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:g.map((m,f)=>o.jsx(Xe,{fill:m.color},`cell-${f}`))}),o.jsx(Ye,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",borderRadius:"8px",color:"#fff"}}),o.jsx(Ze,{wrapperStyle:{color:"#a1a1aa"},formatter:m=>o.jsx("span",{style:{color:"#a1a1aa"},children:m})})]})})]}),o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Platform Distribution"}),o.jsx(We,{width:"100%",height:300,children:o.jsxs(Je,{children:[o.jsx(Qe,{data:c,cx:"50%",cy:"50%",outerRadius:100,paddingAngle:2,dataKey:"value",children:c.map((m,f)=>o.jsx(Xe,{fill:m.color},`cell-${f}`))}),o.jsx(Ye,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",borderRadius:"8px",color:"#fff"}}),o.jsx(Ze,{wrapperStyle:{color:"#a1a1aa"},formatter:m=>o.jsx("span",{style:{color:"#a1a1aa"},children:m})})]})})]}),d.length>0&&o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Top Genres"}),o.jsx(We,{width:"100%",height:300,children:o.jsxs(Je,{children:[o.jsx(Qe,{data:d,cx:"50%",cy:"50%",outerRadius:100,paddingAngle:2,dataKey:"value",children:d.map((m,f)=>o.jsx(Xe,{fill:m.color},`cell-${f}`))}),o.jsx(Ye,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",borderRadius:"8px",color:"#fff"}}),o.jsx(Ze,{wrapperStyle:{color:"#a1a1aa"},formatter:m=>o.jsx("span",{style:{color:"#a1a1aa"},children:m})})]})})]})]}),l.length>0&&o.jsxs(V,{className:"mb-6 bg-red-950/20 border-red-500/30",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Favorites"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:l.slice(0,6).map(m=>o.jsxs(P,{to:"/library/$id",params:{id:m.id},className:"group relative",children:[o.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800 relative",children:[m.cover_art_url?o.jsx("img",{src:m.cover_art_url,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"}),o.jsx("div",{className:"absolute top-2 right-2 text-xl",children:""})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-300 truncate group-hover:text-white",children:m.name})]},m.id))})]}),s>0&&o.jsxs(V,{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Currently Playing"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:n.filter(m=>m.status==="playing").slice(0,6).map(m=>o.jsxs(P,{to:"/library/$id",params:{id:m.id},className:"group",children:[o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800",children:m.cover_art_url?o.jsx("img",{src:m.cover_art_url,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"})}),o.jsx("p",{className:"mt-2 text-sm text-gray-300 truncate group-hover:text-white",children:m.name})]},m.id))})]}),r===0?o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Get Started"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Import your games to start tracking your library"}),o.jsx(P,{to:"/import",className:"inline-block px-6 py-3 bg-primary-purple text-white rounded-lg hover:bg-primary-purple/80 transition-colors",children:"Import Games"})]}):o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx(P,{to:"/library",className:"px-6 py-3 bg-primary-purple text-white rounded-lg hover:bg-primary-purple/80 transition-colors",children:"View Library"}),o.jsx(P,{to:"/import",className:"px-6 py-3 bg-primary-cyan text-white rounded-lg hover:bg-primary-cyan/80 transition-colors",children:"Import More Games"})]})]})]})})}const qs=K("/dashboard")({beforeLoad:({context:e})=>{if(!e.auth.token)throw ae({to:"/login"})},component:Hs}),Gs=K("/collections")({component:bt}),Us=K("/")({beforeLoad:({context:e})=>{throw e.auth.token?ae({to:"/dashboard"}):ae({to:"/login"})}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ks(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function ie(e,t){return typeof e=="function"?e(t):e}function G(e,t){return n=>{t.setState(r=>({...r,[e]:ie(n,r[e])}))}}function Ge(e){return e instanceof Function}function Ws(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Js(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const a=t(i);a!=null&&a.length&&r(a)})};return r(e),n}function C(e,t,n){let r=[],s;return i=>{let a;n.key&&n.debug&&(a=Date.now());const l=e(i);if(!(l.length!==r.length||l.some((d,m)=>r[m]!==d)))return s;r=l;let c;if(n.key&&n.debug&&(c=Date.now()),s=t(...l),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-a)*100)/100,m=Math.round((Date.now()-c)*100)/100,f=m/16,p=(u,h)=>{for(u=String(u);u.length<h;)u=" "+u;return u};console.info(`%c ${p(m,5)} /${p(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function j(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function Qs(e,t,n,r){const s=()=>{var a;return(a=i.getValue())!=null?a:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:C(()=>[e,n,t,i],(a,l,g,c)=>({table:a,column:l,row:g,cell:c,getValue:c.getValue,renderValue:c.renderValue}),j(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(i,n,t,e)},{}),i}function Xs(e,t,n,r){var s,i;const l={...e._getDefaultColumnDef(),...t},g=l.accessorKey;let c=(s=(i=l.id)!=null?i:g?typeof String.prototype.replaceAll=="function"?g.replaceAll(".","_"):g.replace(/\./g,"_"):void 0)!=null?s:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:g&&(g.includes(".")?d=f=>{let p=f;for(const h of g.split(".")){var u;p=(u=p)==null?void 0:u[h]}return p}:d=f=>f[l.accessorKey]),!c)throw new Error;let m={id:`${String(c)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:C(()=>[!0],()=>{var f;return[m,...(f=m.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},j(e.options,"debugColumns")),getLeafColumns:C(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=m.columns)!=null&&p.length){let u=m.columns.flatMap(h=>h.getLeafColumns());return f(u)}return[m]},j(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(m,e);return m}const L="debugHeaders";function en(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=g=>{g.subHeaders&&g.subHeaders.length&&g.subHeaders.map(l),a.push(g)};return l(i),a},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(i,e)}),i}const Ys={createTable:e=>{e.getHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,a;const l=(i=r==null?void 0:r.map(m=>n.find(f=>f.id===m)).filter(Boolean))!=null?i:[],g=(a=s==null?void 0:s.map(m=>n.find(f=>f.id===m)).filter(Boolean))!=null?a:[],c=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(s!=null&&s.includes(m.id)));return ke(t,[...l,...c,...g],e)},j(e.options,L)),e.getCenterHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),ke(t,n,e,"center")),j(e.options,L)),e.getLeftHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?s:[];return ke(t,i,e,"left")},j(e.options,L)),e.getRightHeaderGroups=C(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?s:[];return ke(t,i,e,"right")},j(e.options,L)),e.getFooterGroups=C(()=>[e.getHeaderGroups()],t=>[...t].reverse(),j(e.options,L)),e.getLeftFooterGroups=C(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),j(e.options,L)),e.getCenterFooterGroups=C(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),j(e.options,L)),e.getRightFooterGroups=C(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),j(e.options,L)),e.getFlatHeaders=C(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),j(e.options,L)),e.getLeftFlatHeaders=C(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),j(e.options,L)),e.getCenterFlatHeaders=C(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),j(e.options,L)),e.getRightFlatHeaders=C(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),j(e.options,L)),e.getCenterLeafHeaders=C(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),j(e.options,L)),e.getLeftLeafHeaders=C(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),j(e.options,L)),e.getRightLeafHeaders=C(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),j(e.options,L)),e.getLeafHeaders=C(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,a,l,g,c;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(g=(c=r[0])==null?void 0:c.headers)!=null?g:[]].map(d=>d.getLeafHeaders()).flat()},j(e.options,L))}};function ke(e,t,n,r){var s,i;let a=0;const l=function(f,p){p===void 0&&(p=1),a=Math.max(a,p),f.filter(u=>u.getIsVisible()).forEach(u=>{var h;(h=u.columns)!=null&&h.length&&l(u.columns,p+1)},0)};l(e);let g=[];const c=(f,p)=>{const u={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},h=[];f.forEach(y=>{const v=[...h].reverse()[0],N=y.column.depth===u.depth;let R,S=!1;if(N&&y.column.parent?R=y.column.parent:(R=y.column,S=!0),v&&(v==null?void 0:v.column)===R)v.subHeaders.push(y);else{const _=en(n,R,{id:[r,p,R.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${h.filter(I=>I.column===R).length}`:void 0,depth:p,index:h.length});_.subHeaders.push(y),h.push(_)}u.headers.push(y),y.headerGroup=u}),g.push(u),p>0&&c(h,p-1)},d=t.map((f,p)=>en(n,f,{depth:a,index:p}));c(d,a-1),g.reverse();const m=f=>f.filter(u=>u.column.getIsVisible()).map(u=>{let h=0,y=0,v=[0];u.subHeaders&&u.subHeaders.length?(v=[],m(u.subHeaders).forEach(R=>{let{colSpan:S,rowSpan:_}=R;h+=S,v.push(_)})):h=1;const N=Math.min(...v);return y=y+N,u.colSpan=h,u.rowSpan=y,{colSpan:h,rowSpan:y}});return m((s=(i=g[0])==null?void 0:i.headers)!=null?s:[]),g}const _t=(e,t,n,r,s,i,a)=>{let l={id:t,index:r,original:n,depth:s,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:g=>{if(l._valuesCache.hasOwnProperty(g))return l._valuesCache[g];const c=e.getColumn(g);if(c!=null&&c.accessorFn)return l._valuesCache[g]=c.accessorFn(l.original,r),l._valuesCache[g]},getUniqueValues:g=>{if(l._uniqueValuesCache.hasOwnProperty(g))return l._uniqueValuesCache[g];const c=e.getColumn(g);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(l._uniqueValuesCache[g]=c.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[g]):(l._uniqueValuesCache[g]=[l.getValue(g)],l._uniqueValuesCache[g])},renderValue:g=>{var c;return(c=l.getValue(g))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Js(l.subRows,g=>g.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let g=[],c=l;for(;;){const d=c.getParentRow();if(!d)break;g.push(d),c=d}return g.reverse()},getAllCells:C(()=>[e.getAllLeafColumns()],g=>g.map(c=>Qs(e,l,c,c.id)),j(e.options,"debugRows")),_getAllCellsByColumnId:C(()=>[l.getAllCells()],g=>g.reduce((c,d)=>(c[d.column.id]=d,c),{}),j(e.options,"debugRows"))};for(let g=0;g<e._features.length;g++){const c=e._features[g];c==null||c.createRow==null||c.createRow(l,e)}return l},Zs={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},En=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};En.autoRemove=e=>J(e);const $n=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};$n.autoRemove=e=>J(e);const An=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};An.autoRemove=e=>J(e);const kn=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};kn.autoRemove=e=>J(e);const Mn=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});Mn.autoRemove=e=>J(e)||!(e!=null&&e.length);const In=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});In.autoRemove=e=>J(e)||!(e!=null&&e.length);const Ln=(e,t,n)=>e.getValue(t)===n;Ln.autoRemove=e=>J(e);const On=(e,t,n)=>e.getValue(t)==n;On.autoRemove=e=>J(e);const Ft=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};Ft.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(s)?1/0:s;if(i>a){const l=i;i=a,a=l}return[i,a]};Ft.autoRemove=e=>J(e)||J(e[0])&&J(e[1]);const te={includesString:En,includesStringSensitive:$n,equalsString:An,arrIncludes:kn,arrIncludesAll:Mn,arrIncludesSome:In,equals:Ln,weakEquals:On,inNumberRange:Ft};function J(e){return e==null||e===""}const eo={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:G("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?te.includesString:typeof r=="number"?te.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?te.equals:Array.isArray(r)?te.arrIncludes:te.weakEquals},e.getFilterFn=()=>{var n,r;return Ge(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:te[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(d=>d.id===e.id),a=ie(n,i?i.value:void 0);if(tn(s,a,e)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?l:[]}const g={id:e.id,value:a};if(i){var c;return(c=r==null?void 0:r.map(d=>d.id===e.id?g:d))!=null?c:[]}return r!=null&&r.length?[...r,g]:[g]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=ie(t,s))==null?void 0:i.filter(a=>{const l=n.find(g=>g.id===a.id);if(l){const g=l.getFilterFn();if(tn(g,a.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function tn(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const to=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),no=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},ro=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},so=(e,t,n)=>{let r,s;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r===void 0?a>=a&&(r=s=a):(r>a&&(r=a),s<a&&(s=a)))}),[r,s]},oo=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},io=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!Ws(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,a)=>i-a);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},ao=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),lo=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,co=(e,t)=>t.length,ot={sum:to,min:no,max:ro,extent:so,mean:oo,median:io,unique:ao,uniqueCount:lo,count:co},uo={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:G("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return ot.sum;if(Object.prototype.toString.call(r)==="[object Date]")return ot.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Ge(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:ot[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function go(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(a=>a.id===i)).filter(Boolean),...r]}const mo={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:G("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=C(n=>[je(t,n)],n=>n.findIndex(r=>r.id===e.id),j(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=je(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=je(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=C(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const a=[...t],l=[...s];for(;l.length&&a.length;){const g=a.shift(),c=l.findIndex(d=>d.id===g);c>-1&&i.push(l.splice(c,1)[0])}i=[...i,...l]}return go(i,n,r)},j(e.options,"debugTable"))}},it=()=>({left:[],right:[]}),po={getInitialState:e=>({columnPinning:it(),...e}),getDefaultOptions:e=>({onColumnPinningChange:G("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,a;if(n==="right"){var l,g;return{left:((l=s==null?void 0:s.left)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((g=s==null?void 0:s.right)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var c,d;return{left:[...((c=s==null?void 0:s.left)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((d=s==null?void 0:s.right)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(m=>!(r!=null&&r.includes(m))),right:((a=s==null?void 0:s.right)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,a;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(l=>r==null?void 0:r.includes(l)),a=n.some(l=>s==null?void 0:s.includes(l));return i?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=C(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(a=>!i.includes(a.column.id))},j(t.options,"debugRows")),e.getLeftVisibleCells=C(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),j(t.options,"debugRows")),e.getRightVisibleCells=C(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),j(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?it():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:it())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=C(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),j(e.options,"debugColumns")),e.getRightLeafColumns=C(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),j(e.options,"debugColumns")),e.getCenterLeafColumns=C(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},j(e.options,"debugColumns"))}};function fo(e){return e||(typeof document<"u"?document:null)}const Me={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},at=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ho={getDefaultColumnDef:()=>Me,getInitialState:e=>({columnSizing:{},columnSizingInfo:at(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:G("columnSizing",e),onColumnSizingInfoChange:G("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Me.minSize,(r=i??e.columnDef.size)!=null?r:Me.size),(s=e.columnDef.maxSize)!=null?s:Me.maxSize)},e.getStart=C(n=>[n,je(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),j(t.options,"debugColumns")),e.getAfter=C(n=>[n,je(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),j(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),lt(i)&&i.touches&&i.touches.length>1))return;const a=e.getSize(),l=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],g=lt(i)?Math.round(i.touches[0].clientX):i.clientX,c={},d=(v,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(R=>{var S,_;const I=t.options.columnResizeDirection==="rtl"?-1:1,M=(N-((S=R==null?void 0:R.startOffset)!=null?S:0))*I,ee=Math.max(M/((_=R==null?void 0:R.startSize)!=null?_:0),-.999999);return R.columnSizingStart.forEach(ne=>{let[A,w]=ne;c[A]=Math.round(Math.max(w+w*ee,0)*100)/100}),{...R,deltaOffset:M,deltaPercentage:ee}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(R=>({...R,...c})))},m=v=>d("move",v),f=v=>{d("end",v),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=fo(n),u={moveHandler:v=>m(v.clientX),upHandler:v=>{p==null||p.removeEventListener("mousemove",u.moveHandler),p==null||p.removeEventListener("mouseup",u.upHandler),f(v.clientX)}},h={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),m(v.touches[0].clientX),!1),upHandler:v=>{var N;p==null||p.removeEventListener("touchmove",h.moveHandler),p==null||p.removeEventListener("touchend",h.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),f((N=v.touches[0])==null?void 0:N.clientX)}},y=xo()?{passive:!1}:!1;lt(i)?(p==null||p.addEventListener("touchmove",h.moveHandler,y),p==null||p.addEventListener("touchend",h.upHandler,y)):(p==null||p.addEventListener("mousemove",u.moveHandler,y),p==null||p.addEventListener("mouseup",u.upHandler,y)),t.setColumnSizingInfo(v=>({...v,startOffset:g,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?at():(n=e.initialState.columnSizingInfo)!=null?n:at())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Ie=null;function xo(){if(typeof Ie=="boolean")return Ie;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Ie=e,Ie}function lt(e){return e.type==="touchstart"}const yo={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:G("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=C(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),j(t.options,"debugRows")),e.getVisibleCells=C(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],j(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>C(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),j(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function je(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const vo={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},wo={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:G("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>te.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Ge(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:te[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},bo={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:G("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const a=i.split(".");r=Math.max(r,a.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let a={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=r,n=(s=n)!=null?s:!i,!i&&n)return{...a,[e.id]:!0};if(i&&!n){const{[e.id]:l,...g}=a;return g}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},ht=0,xt=10,ct=()=>({pageIndex:ht,pageSize:xt}),So={getInitialState:e=>({...e,pagination:{...ct(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:G("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>ie(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?ct():(s=e.initialState.pagination)!=null?s:ct())},e.setPageIndex=r=>{e.setPagination(s=>{let i=ie(r,s.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,a)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?ht:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:ht)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?xt:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:xt)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,ie(r,s.pageSize)),a=s.pageSize*s.pageIndex,l=Math.floor(a/i);return{...s,pageIndex:l,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let a=ie(r,(i=e.options.pageCount)!=null?i:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...s,pageCount:a}}),e.getPageOptions=C(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,a)=>a)),s},j(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},ut=()=>({top:[],bottom:[]}),Co={getInitialState:e=>({rowPinning:ut(),...e}),getDefaultOptions:e=>({onRowPinningChange:G("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(g=>{let{id:c}=g;return c}):[],a=s?e.getParentRows().map(g=>{let{id:c}=g;return c}):[],l=new Set([...a,e.id,...i]);t.setRowPinning(g=>{var c,d;if(n==="bottom"){var m,f;return{top:((m=g==null?void 0:g.top)!=null?m:[]).filter(h=>!(l!=null&&l.has(h))),bottom:[...((f=g==null?void 0:g.bottom)!=null?f:[]).filter(h=>!(l!=null&&l.has(h))),...Array.from(l)]}}if(n==="top"){var p,u;return{top:[...((p=g==null?void 0:g.top)!=null?p:[]).filter(h=>!(l!=null&&l.has(h))),...Array.from(l)],bottom:((u=g==null?void 0:g.bottom)!=null?u:[]).filter(h=>!(l!=null&&l.has(h)))}}return{top:((c=g==null?void 0:g.top)!=null?c:[]).filter(h=>!(l!=null&&l.has(h))),bottom:((d=g==null?void 0:g.bottom)!=null?d:[]).filter(h=>!(l!=null&&l.has(h)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(l=>r==null?void 0:r.includes(l)),a=n.some(l=>s==null?void 0:s.includes(l));return i?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?ut():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:ut())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(a=>{const l=e.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>t.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:r}))},e.getTopRows=C(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),j(e.options,"debugRows")),e.getBottomRows=C(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),j(e.options,"debugRows")),e.getCenterRows=C(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},j(e.options,"debugRows"))}},jo={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:G("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{yt(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=C(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?dt(e,n):{rows:[],flatRows:[],rowsById:{}},j(e.options,"debugTable")),e.getFilteredSelectedRowModel=C(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?dt(e,n):{rows:[],flatRows:[],rowsById:{}},j(e.options,"debugTable")),e.getGroupedSelectedRowModel=C(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?dt(e,n):{rows:[],flatRows:[],rowsById:{}},j(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var a;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const l={...i};return yt(l,e.id,n,(a=r==null?void 0:r.selectChildren)!=null?a:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Pt(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return vt(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return vt(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},yt=(e,t,n,r,s)=>{var i;const a=s.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=a.subRows)!=null&&i.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>yt(e,l.id,n,r,s))};function dt(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(a,l){return a.map(g=>{var c;const d=Pt(g,n);if(d&&(r.push(g),s[g.id]=g),(c=g.subRows)!=null&&c.length&&(g={...g,subRows:i(g.subRows)}),d)return g}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function Pt(e,t){var n;return(n=t[e.id])!=null?n:!1}function vt(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(a=>{if(!(i&&!s)&&(a.getCanSelect()&&(Pt(a,t)?i=!0:s=!1),a.subRows&&a.subRows.length)){const l=vt(a,t);l==="all"?i=!0:(l==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const wt=/([0-9]+)/gm,Ro=(e,t,n)=>Vn(le(e.getValue(n)).toLowerCase(),le(t.getValue(n)).toLowerCase()),No=(e,t,n)=>Vn(le(e.getValue(n)),le(t.getValue(n))),_o=(e,t,n)=>Et(le(e.getValue(n)).toLowerCase(),le(t.getValue(n)).toLowerCase()),Fo=(e,t,n)=>Et(le(e.getValue(n)),le(t.getValue(n))),Po=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},Eo=(e,t,n)=>Et(e.getValue(n),t.getValue(n));function Et(e,t){return e===t?0:e>t?1:-1}function le(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Vn(e,t){const n=e.split(wt).filter(Boolean),r=t.split(wt).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),a=parseInt(s,10),l=parseInt(i,10),g=[a,l].sort();if(isNaN(g[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(g[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-r.length}const Ce={alphanumeric:Ro,alphanumericCaseSensitive:No,text:_o,textCaseSensitive:Fo,datetime:Po,basic:Eo},$o={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:G("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Ce.datetime;if(typeof i=="string"&&(r=!0,i.split(wt).length>1))return Ce.alphanumeric}return r?Ce.text:Ce.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Ge(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ce[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(a=>{const l=a==null?void 0:a.find(p=>p.id===e.id),g=a==null?void 0:a.findIndex(p=>p.id===e.id);let c=[],d,m=i?n:s==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&r?l?d="toggle":d="add":a!=null&&a.length&&g!==a.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(i||s||(d="remove")),d==="add"){var f;c=[...a,{id:e.id,desc:m}],c.splice(0,c.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=a.map(p=>p.id===e.id?{...p,desc:m}:p):d==="remove"?c=a.filter(p=>p.id!==e.id):c=[{id:e.id,desc:m}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:a==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Ao=[Ys,yo,mo,po,Zs,eo,vo,wo,$o,uo,bo,So,Co,jo,ho];function ko(e){var t,n;const r=[...Ao,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(s)),{}),a=f=>s.options.mergeOptions?s.options.mergeOptions(i,f):{...i,...f};let g={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(f=>{var p;g=(p=f.getInitialState==null?void 0:f.getInitialState(g))!=null?p:g});const c=[];let d=!1;const m={_features:r,options:{...i,...e},initialState:g,_queue:f=>{c.push(f),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{s.setState(s.initialState)},setOptions:f=>{const p=ie(f,s.options);s.options=a(p)},getState:()=>s.options.state,setState:f=>{s.options.onStateChange==null||s.options.onStateChange(f)},_getRowId:(f,p,u)=>{var h;return(h=s.options.getRowId==null?void 0:s.options.getRowId(f,p,u))!=null?h:`${u?[u.id,p].join("."):p}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(f,p)=>{let u=(p?s.getPrePaginationRowModel():s.getRowModel()).rowsById[f];if(!u&&(u=s.getCoreRowModel().rowsById[f],!u))throw new Error;return u},_getDefaultColumnDef:C(()=>[s.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:u=>{const h=u.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:u=>{var h,y;return(h=(y=u.renderValue())==null||y.toString==null?void 0:y.toString())!=null?h:null},...s._features.reduce((u,h)=>Object.assign(u,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...f}},j(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:C(()=>[s._getColumnDefs()],f=>{const p=function(u,h,y){return y===void 0&&(y=0),u.map(v=>{const N=Xs(s,v,y,h),R=v;return N.columns=R.columns?p(R.columns,N,y+1):[],N})};return p(f)},j(e,"debugColumns")),getAllFlatColumns:C(()=>[s.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),j(e,"debugColumns")),_getAllFlatColumnsById:C(()=>[s.getAllFlatColumns()],f=>f.reduce((p,u)=>(p[u.id]=u,p),{}),j(e,"debugColumns")),getAllLeafColumns:C(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(f,p)=>{let u=f.flatMap(h=>h.getLeafColumns());return p(u)},j(e,"debugColumns")),getColumn:f=>s._getAllFlatColumnsById()[f]};Object.assign(s,m);for(let f=0;f<s._features.length;f++){const p=s._features[f];p==null||p.createTable==null||p.createTable(s)}return s}function Mo(){return e=>C(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,a){i===void 0&&(i=0);const l=[];for(let c=0;c<s.length;c++){const d=_t(e,e._getRowId(s[c],c,a),s[c],c,i,void 0,a==null?void 0:a.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var g;d.originalSubRows=e.options.getSubRows(s[c],c),(g=d.originalSubRows)!=null&&g.length&&(d.subRows=r(d.originalSubRows,i+1,d))}}return l};return n.rows=r(t),n},j(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Io(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Lo(e,t,n){return n.options.filterFromLeafRows?Oo(e,t,n):Vo(e,t,n)}function Oo(e,t,n){var r;const s=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(g,c){c===void 0&&(c=0);const d=[];for(let f=0;f<g.length;f++){var m;let p=g[f];const u=_t(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(u.columnFilters=p.columnFilters,(m=p.subRows)!=null&&m.length&&c<a){if(u.subRows=l(p.subRows,c+1),p=u,t(p)&&!u.subRows.length){d.push(p),i[p.id]=p,s.push(p);continue}if(t(p)||u.subRows.length){d.push(p),i[p.id]=p,s.push(p);continue}}else p=u,t(p)&&(d.push(p),i[p.id]=p,s.push(p))}return d};return{rows:l(e),flatRows:s,rowsById:i}}function Vo(e,t,n){var r;const s=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(g,c){c===void 0&&(c=0);const d=[];for(let f=0;f<g.length;f++){let p=g[f];if(t(p)){var m;if((m=p.subRows)!=null&&m.length&&c<a){const h=_t(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);h.subRows=l(p.subRows,c+1),p=h}d.push(p),s.push(p),i[p.id]=p}}return d};return{rows:l(e),flatRows:s,rowsById:i}}function To(){return e=>C(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(f=>{var p;const u=e.getColumn(f.id);if(!u)return;const h=u.getFilterFn();h&&s.push({id:f.id,filterFn:h,resolvedValue:(p=h.resolveFilterValue==null?void 0:h.resolveFilterValue(f.value))!=null?p:f.value})});const a=(n??[]).map(f=>f.id),l=e.getGlobalFilterFn(),g=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&l&&g.length&&(a.push("__global__"),g.forEach(f=>{var p;i.push({id:f.id,filterFn:l,resolvedValue:(p=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?p:r})}));let c,d;for(let f=0;f<t.flatRows.length;f++){const p=t.flatRows[f];if(p.columnFilters={},s.length)for(let u=0;u<s.length;u++){c=s[u];const h=c.id;p.columnFilters[h]=c.filterFn(p,h,c.resolvedValue,y=>{p.columnFiltersMeta[h]=y})}if(i.length){for(let u=0;u<i.length;u++){d=i[u];const h=d.id;if(d.filterFn(p,h,d.resolvedValue,y=>{p.columnFiltersMeta[h]=y})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const m=f=>{for(let p=0;p<a.length;p++)if(f.columnFilters[a[p]]===!1)return!1;return!0};return Lo(t.rows,m,e)},j(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Do(e){return t=>C(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:a,flatRows:l,rowsById:g}=r;const c=s*i,d=c+s;a=a.slice(c,d);let m;t.options.paginateExpandedRows?m={rows:a,flatRows:l,rowsById:g}:m=Io({rows:a,flatRows:l,rowsById:g}),m.flatRows=[];const f=p=>{m.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return m.rows.forEach(f),m},j(t.options,"debugTable"))}function zo(){return e=>C(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(g=>{var c;return(c=e.getColumn(g.id))==null?void 0:c.getCanSort()}),a={};i.forEach(g=>{const c=e.getColumn(g.id);c&&(a[g.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const l=g=>{const c=g.map(d=>({...d}));return c.sort((d,m)=>{for(let p=0;p<i.length;p+=1){var f;const u=i[p],h=a[u.id],y=h.sortUndefined,v=(f=u==null?void 0:u.desc)!=null?f:!1;let N=0;if(y){const R=d.getValue(u.id),S=m.getValue(u.id),_=R===void 0,I=S===void 0;if(_||I){if(y==="first")return _?-1:1;if(y==="last")return _?1:-1;N=_&&I?0:_?y:-y}}if(N===0&&(N=h.sortingFn(d,m,u.id)),N!==0)return v&&(N*=-1),h.invertSorting&&(N*=-1),N}return d.index-m.index}),c.forEach(d=>{var m;s.push(d),(m=d.subRows)!=null&&m.length&&(d.subRows=l(d.subRows))}),c};return{rows:l(n.rows),flatRows:s,rowsById:n.rowsById}},j(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function nn(e,t){return e?Bo(e)?b.createElement(e,t):e:null}function Bo(e){return Ho(e)||typeof e=="function"||qo(e)}function Ho(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function qo(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Go(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=b.useState(()=>({current:ko(t)})),[r,s]=b.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:a=>{s(a),e.onStateChange==null||e.onStateChange(a)}})),n.current}function Uo({gameId:e,onClose:t}){const n=me(),{showToast:r}=pe(),[s,i]=b.useState(!1),{data:a}=H({queryKey:["collections"],queryFn:async()=>(await W.getAll()).data}),l=U({mutationFn:c=>W.addGame(c,e),onSuccess:(c,d)=>{n.invalidateQueries({queryKey:["collection",d]}),n.invalidateQueries({queryKey:["collections"]});const m=g.find(f=>f.id===d);r(`Added to ${(m==null?void 0:m.name)||"collection"}`,"success"),i(!1),t==null||t()},onError:()=>{r("Failed to add to collection","error")}}),g=(a==null?void 0:a.collections)||[];return o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),i(!s)},className:"px-3 py-1 bg-primary-purple/20 border border-primary-purple/30 text-primary-purple hover:bg-primary-purple/30 rounded-lg text-sm transition-all",children:"Add to Collection"}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:o.jsx("div",{className:"py-1",children:g.length===0?o.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 text-center",children:"No collections yet. Create one first!"}):g.map(c=>o.jsxs("button",{onClick:d=>{d.preventDefault(),d.stopPropagation(),l.mutate(c.id)},disabled:l.isPending,className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white disabled:opacity-50",children:[o.jsx("div",{className:"font-medium",children:c.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:[c.game_count," games"]})]},c.id))})})]})]})}const Ko={backlog:"text-status-backlog border-status-backlog",playing:"text-status-playing border-status-playing",finished:"text-status-finished border-status-finished",dropped:"text-status-dropped border-status-dropped",completed:"text-status-completed border-status-completed"};function Wo({id:e,name:t,cover_art_url:n,platform_display_name:r,platform_id:s,status:i,metacritic_score:a,user_rating:l,total_minutes:g,is_favorite:c}){const d=Math.floor(g/60),m=g%60,f=me(),[p,u]=b.useState(c),h=U({mutationFn:v=>D.toggleFavorite(e,s,v),onMutate:async v=>{u(v)},onSuccess:()=>{f.invalidateQueries({queryKey:["games"]})},onError:()=>{u(!p)}}),y=v=>{v.preventDefault(),v.stopPropagation(),h.mutate(!p)};return o.jsxs(P,{to:"/library/$id",params:{id:e},className:"card hover:border-primary-purple transition-all cursor-pointer group relative",children:[o.jsx("button",{onClick:y,className:"absolute top-4 right-4 z-10 text-2xl hover:scale-110 transition-transform","aria-label":p?"Remove from favorites":"Add to favorites",children:p?"":""}),o.jsxs("div",{className:"flex gap-4",children:[n?o.jsx("img",{src:n,alt:t,className:"w-24 h-32 object-cover rounded"}):o.jsx("div",{className:"w-24 h-32 bg-zinc-800 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-zinc-600 text-xs",children:"No image"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold mb-2 group-hover:text-primary-purple transition-colors",children:t}),o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"badge badge-steam",children:r}),o.jsx("span",{className:`badge ${Ko[i]}`,children:i})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-zinc-400",children:[a&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-primary-yellow",children:""}),o.jsx("span",{children:a})]}),l&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-primary-cyan",children:"Your rating:"}),o.jsxs("span",{children:[l,"/10"]})]}),g>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-zinc-500",children:""}),o.jsxs("span",{children:[d>0&&`${d}h `,m,"m"]})]})]}),o.jsx("div",{className:"mt-3",onClick:v=>v.preventDefault(),children:o.jsx(Uo,{gameId:e})})]})]})]})}const he=Ks();function Jo(){const{showToast:e}=pe(),[t,n]=b.useState([]),[r,s]=b.useState([]),[i,a]=b.useState(""),[l,g]=b.useState("grid"),[c,d]=b.useState({}),[m,f]=b.useState(""),[p,u]=b.useState(""),[h,y]=b.useState(!1),v=async w=>{try{const E=await D.export(w),X=new Blob([E.data],{type:w==="json"?"application/json":"text/csv"}),q=window.URL.createObjectURL(X),re=document.createElement("a");re.href=q,re.download=`gamelist-export-${new Date().toISOString().split("T")[0]}.${w}`,document.body.appendChild(re),re.click(),document.body.removeChild(re),window.URL.revokeObjectURL(q),e(`Library exported as ${w.toUpperCase()}`,"success")}catch{e("Failed to export library","error")}},{data:N,isLoading:R,error:S}=H({queryKey:["games"],queryFn:async()=>(await D.getAll()).data}),_=(N==null?void 0:N.games)||[],I=b.useMemo(()=>{const w=new Set(_.map(E=>E.platform_display_name));return Array.from(w).sort()},[_]),M=b.useMemo(()=>{const w=new Set(_.map(E=>E.status));return Array.from(w).sort()},[_]),ee=b.useMemo(()=>_.filter(w=>!(m&&w.platform_display_name!==m||p&&w.status!==p||h&&!w.is_favorite)),[_,m,p,h]),ne=b.useMemo(()=>[he.accessor("name",{header:"Name",cell:w=>o.jsx(P,{to:"/library/$id",params:{id:w.row.original.id},className:"text-blue-400 hover:text-blue-300",children:w.getValue()})}),he.accessor("platform_display_name",{header:"Platform",cell:w=>w.getValue()}),he.accessor("status",{header:"Status",cell:w=>w.getValue()}),he.accessor("metacritic_score",{header:"Score",cell:w=>w.getValue()||"-"}),he.accessor("user_rating",{header:"Rating",cell:w=>w.getValue()?`${w.getValue()}/10`:"-"}),he.accessor("total_minutes",{header:"Playtime",cell:w=>{const E=w.getValue(),X=Math.floor(E/60),q=E%60;return X>0?`${X}h ${q}m`:`${q}m`}})],[]),A=Go({data:ee,columns:ne,state:{sorting:t,columnFilters:r,globalFilter:i,columnVisibility:c},onSortingChange:n,onColumnFiltersChange:s,onGlobalFilterChange:a,onColumnVisibilityChange:d,getCoreRowModel:Mo(),getSortedRowModel:zo(),getFilteredRowModel:To(),getPaginationRowModel:Do(),initialState:{pagination:{pageSize:20}}});return R?o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Library"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:Array.from({length:12}).map((w,E)=>o.jsx(zs,{},E))})]})}):S?o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"card max-w-md",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-red mb-4",children:"Error"}),o.jsx("p",{className:"text-zinc-400",children:"Failed to load your library. Please try again."})]})})}):o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary-purple",children:"Library"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g("grid"),className:`px-4 py-2 rounded border transition-all ${l==="grid"?"bg-primary-purple border-purple-500 text-white":"bg-bg-secondary border-zinc-700 text-zinc-400"}`,children:"Grid"}),o.jsx("button",{onClick:()=>g("table"),className:`px-4 py-2 rounded border transition-all ${l==="table"?"bg-primary-purple border-purple-500 text-white":"bg-bg-secondary border-zinc-700 text-zinc-400"}`,children:"Table"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>v("json"),className:"px-4 py-2 bg-primary-cyan/20 border border-primary-cyan/30 text-primary-cyan hover:bg-primary-cyan/30 rounded transition-all text-sm",children:"Export JSON"}),o.jsx("button",{onClick:()=>v("csv"),className:"px-4 py-2 bg-primary-green/20 border border-primary-green/30 text-primary-green hover:bg-primary-green/30 rounded transition-all text-sm",children:"Export CSV"})]})]})]}),o.jsxs("div",{className:"mb-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),placeholder:"Search games...",className:"input flex-1 min-w-[200px]"}),o.jsxs("select",{value:m,onChange:w=>f(w.target.value),className:"input min-w-[150px]",children:[o.jsx("option",{value:"",children:"All Platforms"}),I.map(w=>o.jsx("option",{value:w,children:w},w))]}),o.jsxs("select",{value:p,onChange:w=>u(w.target.value),className:"input min-w-[150px]",children:[o.jsx("option",{value:"",children:"All Statuses"}),M.map(w=>o.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))]}),o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-bg-tertiary border border-zinc-700 rounded-lg cursor-pointer hover:border-red-500 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:h,onChange:w=>y(w.target.checked),className:"w-4 h-4 rounded border-zinc-700 bg-bg-secondary text-red-500 focus:ring-2 focus:ring-red-500"}),o.jsx("span",{className:"text-sm text-zinc-300",children:"Favorites Only"})]}),(m||p||i||h)&&o.jsx("button",{onClick:()=>{f(""),u(""),a(""),y(!1)},className:"btn btn-secondary",children:"Clear Filters"})]}),l==="table"&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsx("span",{className:"text-sm text-zinc-400",children:"Show columns:"}),A.getAllLeafColumns().map(w=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:w.getIsVisible(),onChange:w.getToggleVisibilityHandler(),className:"w-4 h-4 rounded border-zinc-700 bg-bg-secondary text-primary-purple focus:ring-2 focus:ring-primary-purple"}),o.jsx("span",{className:"text-zinc-300",children:w.id})]},w.id))]})]}),o.jsxs("div",{className:"mb-4 text-sm text-zinc-400",children:["Showing ",A.getRowModel().rows.length," of ",ee.length," games",(m||p||h)&&` (filtered from ${_.length} total)`]}),_.length===0?o.jsxs("div",{className:"card text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Games Yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Start building your library by importing games"}),o.jsx(P,{to:"/import",className:"btn btn-primary inline-block",children:"Import Games"})]}):l==="grid"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:A.getRowModel().rows.map(w=>o.jsx(Wo,{...w.original},w.original.id))}),A.getPageCount()>1&&o.jsxs("div",{className:"flex justify-center items-center gap-4",children:[o.jsx("button",{onClick:()=>A.previousPage(),disabled:!A.getCanPreviousPage(),className:"btn btn-secondary",children:"Previous"}),o.jsxs("span",{className:"text-zinc-400",children:["Page ",A.getState().pagination.pageIndex+1," of ",A.getPageCount()]}),o.jsx("button",{onClick:()=>A.nextPage(),disabled:!A.getCanNextPage(),className:"btn btn-secondary",children:"Next"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"card overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:A.getHeaderGroups().map(w=>o.jsx("tr",{className:"border-b border-zinc-700",children:w.headers.map(E=>o.jsx("th",{className:"text-left p-4 text-zinc-400 font-medium cursor-pointer hover:text-white",onClick:E.column.getToggleSortingHandler(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[nn(E.column.columnDef.header,E.getContext()),E.column.getIsSorted()&&o.jsx("span",{children:E.column.getIsSorted()==="asc"?"":""})]})},E.id))},w.id))}),o.jsx("tbody",{children:A.getRowModel().rows.map(w=>o.jsx("tr",{className:"border-b border-zinc-800 hover:bg-bg-hover transition-colors",children:w.getVisibleCells().map(E=>o.jsx("td",{className:"p-4",children:nn(E.column.columnDef.cell,E.getContext())},E.id))},w.id))})]})}),A.getPageCount()>1&&o.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[o.jsx("button",{onClick:()=>A.previousPage(),disabled:!A.getCanPreviousPage(),className:"btn btn-secondary",children:"Previous"}),o.jsxs("span",{className:"text-zinc-400",children:["Page ",A.getState().pagination.pageIndex+1," of ",A.getPageCount()]}),o.jsx("button",{onClick:()=>A.nextPage(),disabled:!A.getCanNextPage(),className:"btn btn-secondary",children:"Next"})]})]})]})})}const Qo=K("/library/")({component:Jo});function Xo(){const e=me(),{showToast:t}=pe(),[n,r]=b.useState(!1),[s,i]=b.useState(""),[a,l]=b.useState(""),{data:g}=H({queryKey:["collections"],queryFn:async()=>(await W.getAll()).data}),{data:c}=H({queryKey:["series"],queryFn:async()=>(await W.getSeries()).data}),d=U({mutationFn:()=>W.create(s,a),onSuccess:()=>{e.invalidateQueries({queryKey:["collections"]}),t("Collection created successfully","success"),r(!1),i(""),l("")},onError:()=>{t("Failed to create collection","error")}}),m=U({mutationFn:y=>W.delete(y),onSuccess:()=>{e.invalidateQueries({queryKey:["collections"]}),t("Collection deleted","success")},onError:()=>{t("Failed to delete collection","error")}}),f=(g==null?void 0:g.collections)||[],p=(c==null?void 0:c.series)||[],u=()=>{if(!s.trim()){t("Collection name is required","error");return}d.mutate()},h=(y,v)=>{confirm(`Are you sure you want to delete "${v}"?`)&&m.mutate(y)};return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-white",children:"Collections"}),o.jsx(xe,{onClick:()=>r(!0),children:"Create Collection"})]}),p.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-cyan mb-4",children:"Game Series"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(y=>o.jsx(P,{to:"/collections/series/$seriesName",params:{seriesName:y.series_name},className:"card hover:border-primary-cyan transition-all cursor-pointer",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:y.series_name}),o.jsxs("p",{className:"text-sm text-gray-400",children:[y.count," games"]})]}),o.jsx("div",{className:"text-3xl",children:""})]})},y.series_name))})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"My Collections"}),f.length===0?o.jsx(V,{children:o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No collections yet. Create your first collection to organize your games!"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(y=>o.jsx(V,{className:"hover:border-primary-purple transition-all",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(P,{to:"/collections/$id",params:{id:y.id},className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2 hover:text-primary-purple transition-colors",children:y.name}),y.description&&o.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:y.description}),o.jsxs("p",{className:"text-sm text-primary-cyan",children:[y.game_count," ",y.game_count===1?"game":"games"]})]}),o.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-700",children:o.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>h(y.id,y.name),children:"Delete"})})]})},y.id))})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 max-w-md w-full",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create Collection"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Name"}),o.jsx("input",{type:"text",value:s,onChange:y=>i(y.target.value),placeholder:"e.g., Couch Co-op Games",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (optional)"}),o.jsx("textarea",{value:a,onChange:y=>l(y.target.value),placeholder:"Describe your collection...",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple min-h-24"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(xe,{onClick:u,disabled:d.isPending,className:"flex-1",children:d.isPending?"Creating...":"Create"}),o.jsx(xe,{variant:"secondary",onClick:()=>{r(!1),i(""),l("")},className:"flex-1",children:"Cancel"})]})]})})]})})}const Yo=K("/collections/")({component:Xo});function Zo({gameId:e,platformId:t}){const n=me(),{showToast:r}=pe(),[s,i]=b.useState({}),{data:a}=H({queryKey:["customFields",e],queryFn:async()=>(await D.getCustomFields(e)).data});b.useEffect(()=>{a!=null&&a.customFields&&i(a.customFields)},[a]);const l=U({mutationFn:c=>D.updateCustomFields(e,t,c),onSuccess:()=>{n.invalidateQueries({queryKey:["customFields",e]}),r("Custom fields updated successfully","success")},onError:()=>{r("Failed to update custom fields","error")}}),g=(c,d)=>{const m={...s,[c]:d};i(m),l.mutate({[c]:d})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Time Tracking"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Estimated Completion (hours)"}),o.jsx("input",{type:"number",min:"0",step:"0.5",value:s.estimated_completion_hours||"",onChange:c=>g("estimated_completion_hours",c.target.value?parseFloat(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Actual Playtime (hours)"}),o.jsx("input",{type:"number",min:"0",step:"0.5",value:s.actual_playtime_hours||"",onChange:c=>g("actual_playtime_hours",c.target.value?parseFloat(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"15"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Completion Percentage: ",s.completion_percentage||0,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:s.completion_percentage||0,onChange:c=>g("completion_percentage",parseInt(c.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary-purple"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Difficulty Rating (1-10)"}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(c=>o.jsx("button",{onClick:()=>g("difficulty_rating",c),className:`flex-1 py-2 rounded transition-all text-sm ${s.difficulty_rating===c?"bg-primary-red text-white shadow-lg shadow-primary-red/50":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:c},c))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Achievements"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total Achievements"}),o.jsx("input",{type:"number",min:"0",value:s.achievements_total||"",onChange:c=>g("achievements_total",c.target.value?parseInt(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Achievements Earned"}),o.jsx("input",{type:"number",min:"0",value:s.achievements_earned||"",onChange:c=>g("achievements_earned",c.target.value?parseInt(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"35"})]})]}),s.achievements_total&&s.achievements_earned&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-green h-2 rounded-full transition-all",style:{width:`${Math.min(100,s.achievements_earned/s.achievements_total*100)}%`}})}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[s.achievements_earned," / ",s.achievements_total," (",Math.round(s.achievements_earned/s.achievements_total*100),"%)"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Replay Value (1-5 stars)"}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(c=>o.jsx("button",{onClick:()=>g("replay_value",c),className:`flex-1 py-3 rounded-lg transition-all ${s.replay_value&&s.replay_value>=c?"bg-primary-yellow/20 border-2 border-primary-yellow text-primary-yellow":"bg-gray-800 border-2 border-gray-700 text-gray-400 hover:border-primary-yellow hover:text-primary-yellow"}`,children:o.jsx("span",{className:"text-2xl",children:""})},c))})]})]})}const ei=[{value:"backlog",label:"Backlog"},{value:"playing",label:"Playing"},{value:"finished",label:"Finished"},{value:"completed",label:"Completed"},{value:"dropped",label:"Dropped"}];function ti(){const{id:e}=St({from:"/library/$id"}),t=me(),{showToast:n}=pe(),[r,s]=b.useState(!1),[i,a]=b.useState(""),{data:l,isLoading:g,error:c}=H({queryKey:["game",e],queryFn:async()=>(await D.getOne(e)).data}),d=U({mutationFn:({platformId:S,status:_})=>D.updateStatus(e,S,_),onSuccess:()=>{t.invalidateQueries({queryKey:["game",e]}),t.invalidateQueries({queryKey:["games"]}),n("Status updated successfully","success")},onError:()=>{n("Failed to update status","error")}}),m=U({mutationFn:({platformId:S,rating:_})=>D.updateRating(e,S,_),onSuccess:()=>{t.invalidateQueries({queryKey:["game",e]}),t.invalidateQueries({queryKey:["games"]}),n("Rating updated successfully","success")},onError:()=>{n("Failed to update rating","error")}}),f=U({mutationFn:({platformId:S,notes:_})=>D.updateNotes(e,S,_),onSuccess:()=>{t.invalidateQueries({queryKey:["game",e]}),s(!1),n("Notes saved successfully","success")},onError:()=>{n("Failed to save notes","error")}}),p=U({mutationFn:({platformId:S,isFavorite:_})=>D.toggleFavorite(e,S,_),onSuccess:(S,_)=>{t.invalidateQueries({queryKey:["game",e]}),t.invalidateQueries({queryKey:["games"]}),n(_.isFavorite?"Added to favorites":"Removed from favorites","success")},onError:()=>{n("Failed to update favorite status","error")}});if(g)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})})});if(c||!(l!=null&&l.game))return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-red-400",children:"Game not found"})})});const u=l.game,h=S=>{d.mutate({platformId:u.platform_id,status:S})},y=S=>{m.mutate({platformId:u.platform_id,rating:S})},v=()=>{f.mutate({platformId:u.platform_id,notes:i})},N=()=>{a(u.notes||""),s(!0)},R=(l==null?void 0:l.genres)||[];return o.jsxs(T,{children:[u.background_image_url&&o.jsxs("div",{className:"relative h-96 w-full -mx-6 -mt-6 mb-6",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${u.background_image_url})`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-gray-950/50 to-gray-950"})]}),o.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.background_image_url&&o.jsx("div",{className:"-mt-64 relative z-10"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4",children:[o.jsxs("div",{className:"lg:col-span-1",children:[u.cover_art_url?o.jsx("img",{src:u.cover_art_url,alt:u.name,className:"w-full rounded-lg shadow-lg"}):o.jsx("div",{className:"w-full aspect-[3/4] bg-gray-800 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500",children:"No cover art"})}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Status"}),o.jsx("select",{value:u.status||"backlog",onChange:S=>h(S.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",children:ei.map(S=>o.jsx("option",{value:S.value,children:S.label},S.value))})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Your Rating"}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(S=>o.jsx("button",{onClick:()=>y(S),className:`flex-1 py-2 rounded transition-all ${u.user_rating===S?"bg-primary-purple text-white shadow-lg shadow-primary-purple/50":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:S},S))})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:()=>p.mutate({platformId:u.platform_id,isFavorite:!u.is_favorite}),disabled:p.isPending,className:`w-full py-3 rounded-lg font-semibold transition-all ${u.is_favorite?"bg-red-600/20 border-2 border-red-500 text-red-400 hover:bg-red-600/30":"bg-gray-800 border-2 border-gray-700 text-gray-400 hover:bg-gray-700 hover:border-red-500 hover:text-red-400"}`,children:u.is_favorite?" Remove from Favorites":" Add to Favorites"})})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:u.name}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-sm mb-4",children:[o.jsx("span",{className:"px-3 py-1 bg-primary-purple/20 border border-primary-purple rounded-lg text-primary-purple",children:u.platform_display_name}),u.release_date&&o.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-lg text-gray-400",children:new Date(u.release_date).getFullYear()}),u.metacritic_score&&o.jsxs("span",{className:"px-3 py-1 bg-primary-green/20 border border-primary-green rounded-lg text-primary-green",children:["Metacritic: ",u.metacritic_score]}),u.esrb_rating&&o.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-lg text-gray-400",children:u.esrb_rating.toUpperCase()})]}),R.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.map(S=>o.jsx("span",{className:"px-2 py-1 bg-primary-cyan/10 border border-primary-cyan/30 rounded text-primary-cyan text-xs",children:S},S))}),u.description&&o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsx("h2",{className:"text-xl font-semibold mb-3 text-primary-purple",children:"About"}),o.jsx("p",{className:"text-gray-300 leading-relaxed",children:u.description})]}),o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-primary-purple",children:"Notes"}),!r&&o.jsx("button",{onClick:N,className:"text-sm text-primary-cyan hover:text-primary-purple",children:u.notes?"Edit":"Add Notes"})]}),r?o.jsxs("div",{children:[o.jsx("textarea",{value:i,onChange:S=>a(S.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple min-h-32",placeholder:"Add your notes about this game..."}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx("button",{onClick:v,disabled:f.isPending,className:"px-4 py-2 bg-primary-purple hover:bg-primary-purple/80 rounded-lg disabled:opacity-50",children:f.isPending?"Saving...":"Save"}),o.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})]}):o.jsx("div",{className:"text-gray-300 bg-gray-900/50 rounded-lg p-4",children:u.notes||"No notes yet"})]}),o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-primary-purple mb-4",children:"My Stats"}),o.jsx(Zo,{gameId:u.id,platformId:u.platform_id})]}),o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-primary-purple mb-4",children:"External Resources"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("a",{href:`https://howlongtobeat.com/?q=${encodeURIComponent(u.name)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[200px] px-4 py-3 bg-primary-cyan/20 border border-primary-cyan/30 text-primary-cyan hover:bg-primary-cyan/30 rounded-lg transition-all text-center",children:"HowLongToBeat "}),u.slug&&o.jsx("a",{href:`https://rawg.io/games/${u.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[200px] px-4 py-3 bg-primary-purple/20 border border-primary-purple/30 text-primary-purple hover:bg-primary-purple/30 rounded-lg transition-all text-center",children:"View on RAWG "})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-primary-cyan/10 border border-primary-cyan/30 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-primary-cyan",children:"Playtime"}),o.jsxs("div",{className:"text-2xl font-semibold text-white",children:[Math.floor(u.total_minutes/60),"h ",u.total_minutes%60,"m"]})]}),u.last_played&&o.jsxs("div",{className:"bg-primary-purple/10 border border-primary-purple/30 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-primary-purple",children:"Last Played"}),o.jsx("div",{className:"text-lg font-semibold text-white",children:new Date(u.last_played).toLocaleDateString()})]})]})]})]})]})]})}const ni=K("/library/$id")({beforeLoad:({context:e})=>{if(!e.auth.token)throw ae({to:"/login"})},component:ti});function ri(){const{id:e}=St({from:"/collections/$id"}),t=Re(),n=me(),{showToast:r}=pe(),{data:s,isLoading:i}=H({queryKey:["collection",e],queryFn:async()=>(await W.getOne(e)).data}),a=U({mutationFn:m=>W.removeGame(e,m),onSuccess:()=>{n.invalidateQueries({queryKey:["collection",e]}),n.invalidateQueries({queryKey:["collections"]}),r("Game removed from collection","success")},onError:()=>{r("Failed to remove game","error")}}),l=U({mutationFn:()=>W.delete(e),onSuccess:()=>{n.invalidateQueries({queryKey:["collections"]}),r("Collection deleted","success"),t({to:"/collections"})},onError:()=>{r("Failed to delete collection","error")}});if(i)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})})});if(!s)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-red-400",children:"Collection not found"})})});const{collection:g,games:c}=s,d=()=>{confirm(`Are you sure you want to delete "${g.name}"?`)&&l.mutate()};return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(P,{to:"/collections",className:"text-primary-cyan hover:text-primary-purple transition-colors mb-4 inline-block",children:" Back to Collections"}),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:g.name}),g.description&&o.jsx("p",{className:"text-gray-400",children:g.description}),o.jsxs("p",{className:"text-sm text-primary-cyan mt-2",children:[c.length," ",c.length===1?"game":"games"]})]}),o.jsx(xe,{variant:"danger",onClick:d,children:"Delete Collection"})]})]}),c.length===0?o.jsx(V,{children:o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No games in this collection yet. Add games from your library!"})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:c.map(m=>o.jsxs("div",{className:"group relative",children:[o.jsxs(P,{to:"/library/$id",params:{id:m.id},children:[o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800 mb-2",children:m.cover_art_url?o.jsx("img",{src:m.cover_art_url,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"})}),o.jsx("p",{className:"text-sm text-gray-300 truncate group-hover:text-white",children:m.name})]}),o.jsx("button",{onClick:()=>a.mutate(m.id),className:"absolute top-2 right-2 bg-red-600/80 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove from collection",children:""})]},m.id))})]})})}const si=K("/collections/$id")({component:ri});function oi(){const{seriesName:e}=St({from:"/collections/series/$seriesName"}),{data:t,isLoading:n}=H({queryKey:["series",e],queryFn:async()=>(await W.getSeriesGames(e)).data});if(n)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})})});if(!t)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-red-400",children:"Series not found"})})});const{games:r}=t;return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(P,{to:"/collections",className:"text-primary-cyan hover:text-primary-purple transition-colors mb-4 inline-block",children:" Back to Collections"}),o.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:[e," Series"]}),o.jsxs("p",{className:"text-sm text-primary-cyan",children:[r.length," ",r.length===1?"game":"games"]})]}),r.length===0?o.jsx(V,{children:o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No games found in this series."})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map(s=>o.jsxs(P,{to:"/library/$id",params:{id:s.id},className:"group",children:[o.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800 mb-2 relative",children:[s.cover_art_url?o.jsx("img",{src:s.cover_art_url,alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"}),s.is_favorite&&o.jsx("div",{className:"absolute top-2 right-2 text-xl",children:""})]}),o.jsx("p",{className:"text-sm text-gray-300 truncate group-hover:text-white mb-1",children:s.name}),s.release_date&&o.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.release_date).getFullYear()})]},s.id))})]})})}const ii=K("/collections/series/$seriesName")({component:oi}),ai=Es.update({id:"/register",path:"/register",getParentRoute:()=>ce}),li=As.update({id:"/login",path:"/login",getParentRoute:()=>ce}),$t=ks.update({id:"/library",path:"/library",getParentRoute:()=>ce}),ci=Ts.update({id:"/import",path:"/import",getParentRoute:()=>ce}),ui=qs.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>ce}),Ue=Gs.update({id:"/collections",path:"/collections",getParentRoute:()=>ce}),di=Us.update({id:"/",path:"/",getParentRoute:()=>ce}),gi=Qo.update({id:"/",path:"/",getParentRoute:()=>$t}),mi=Yo.update({id:"/",path:"/",getParentRoute:()=>Ue}),pi=ni.update({id:"/$id",path:"/$id",getParentRoute:()=>$t}),fi=si.update({id:"/$id",path:"/$id",getParentRoute:()=>Ue}),hi=ii.update({id:"/series/$seriesName",path:"/series/$seriesName",getParentRoute:()=>Ue}),xi={CollectionsIdRoute:fi,CollectionsIndexRoute:mi,CollectionsSeriesSeriesNameRoute:hi},yi=Ue._addFileChildren(xi),vi={LibraryIdRoute:pi,LibraryIndexRoute:gi},wi=$t._addFileChildren(vi),bi={IndexRoute:di,CollectionsRoute:yi,DashboardRoute:ui,ImportRoute:ci,LibraryRoute:wi,LoginRoute:li,RegisterRoute:ai},Si=ce._addFileChildren(bi)._addFileTypes(),Ci=zn({routeTree:Si,context:{auth:void 0}}),ji=new qn({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function Ri(){const e=be();return o.jsx(Bn,{router:Ci,context:{auth:e}})}function Ni(){return o.jsxs(Gn,{client:ji,children:[o.jsx(Rs,{children:o.jsx(Ns,{children:o.jsx(Ri,{})})}),o.jsx(Wn,{initialIsOpen:!1})]})}Kn.createRoot(document.getElementById("root")).render(o.jsx(b.StrictMode,{children:o.jsx(Ni,{})}));
