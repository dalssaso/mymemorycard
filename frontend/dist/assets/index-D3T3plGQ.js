import{j as o,c as Dn,O as vt,u as Ve,L as P,a as U,r as re,b as bt,d as zn,R as Bn}from"./router-VKjJx9zE.js";import{c as Hn,a as S,d as Ke,P as We,e as Je,C as Qe,T as Xe,L as Ye}from"./recharts-BPqE_K3g.js";import{u as B,a as de,b as G,Q as qn,c as Gn}from"./query-BvTWdQ1N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Pe={},kt;function Un(){if(kt)return Pe;kt=1;var e=Hn();return Pe.createRoot=e.createRoot,Pe.hydrateRoot=e.hydrateRoot,Pe}var Kn=Un(),Wn=function(){return null};function rn(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jn}=Object.prototype,{getPrototypeOf:St}=Object,{iterator:Te,toStringTag:sn}=Symbol,De=(e=>t=>{const n=Jn.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),J=e=>(e=e.toLowerCase(),t=>De(t)===e),ze=e=>t=>typeof t===e,{isArray:he}=Array,fe=ze("undefined");function je(e){return e!==null&&!fe(e)&&e.constructor!==null&&!fe(e.constructor)&&D(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const on=J("ArrayBuffer");function Qn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&on(e.buffer),t}const Xn=ze("string"),D=ze("function"),ln=ze("number"),Re=e=>e!==null&&typeof e=="object",Yn=e=>e===!0||e===!1,Me=e=>{if(De(e)!=="object")return!1;const t=St(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(sn in e)&&!(Te in e)},Zn=e=>{if(!Re(e)||je(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},er=J("Date"),tr=J("File"),nr=J("Blob"),rr=J("FileList"),sr=e=>Re(e)&&D(e.pipe),or=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||D(e.append)&&((t=De(e))==="formdata"||t==="object"&&D(e.toString)&&e.toString()==="[object FormData]"))},ir=J("URLSearchParams"),[lr,ar,cr,ur]=["ReadableStream","Request","Response","Headers"].map(J),dr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ne(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),he(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(je(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let a;for(r=0;r<l;r++)a=i[r],t.call(null,e[a],a,e)}}function an(e,t){if(je(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ae=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cn=e=>!fe(e)&&e!==ae;function dt(){const{caseless:e,skipUndefined:t}=cn(this)&&this||{},n={},r=(s,i)=>{const l=e&&an(n,i)||i;Me(n[l])&&Me(s)?n[l]=dt(n[l],s):Me(s)?n[l]=dt({},s):he(s)?n[l]=s.slice():(!t||!fe(s))&&(n[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ne(arguments[s],r);return n}const gr=(e,t,n,{allOwnKeys:r}={})=>(Ne(t,(s,i)=>{n&&D(s)?e[i]=rn(s,n):e[i]=s},{allOwnKeys:r}),e),mr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pr=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},fr=(e,t,n,r)=>{let s,i,l;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!r||r(l,e,t))&&!a[l]&&(t[l]=e[l],a[l]=!0);e=n!==!1&&St(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},hr=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},xr=e=>{if(!e)return null;if(he(e))return e;let t=e.length;if(!ln(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&St(Uint8Array)),wr=(e,t)=>{const r=(e&&e[Te]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},vr=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},br=J("HTMLFormElement"),Sr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Lt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Cr=J("RegExp"),un=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ne(n,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(r[i]=l||s)}),Object.defineProperties(e,r)},jr=e=>{un(e,(t,n)=>{if(D(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(D(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rr=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return he(e)?r(e):r(String(e).split(t)),n},Nr=()=>{},_r=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Fr(e){return!!(e&&D(e.append)&&e[sn]==="FormData"&&e[Te])}const Pr=e=>{const t=new Array(10),n=(r,s)=>{if(Re(r)){if(t.indexOf(r)>=0)return;if(je(r))return r;if(!("toJSON"in r)){t[s]=r;const i=he(r)?[]:{};return Ne(r,(l,a)=>{const d=n(l,s+1);!fe(d)&&(i[a]=d)}),t[s]=void 0,i}}return r};return n(e,0)},Er=J("AsyncFunction"),$r=e=>e&&(Re(e)||D(e))&&D(e.then)&&D(e.catch),dn=((e,t)=>e?setImmediate:t?((n,r)=>(ae.addEventListener("message",({source:s,data:i})=>{s===ae&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ae.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",D(ae.postMessage)),Ar=typeof queueMicrotask<"u"?queueMicrotask.bind(ae):typeof process<"u"&&process.nextTick||dn,Ir=e=>e!=null&&D(e[Te]),y={isArray:he,isArrayBuffer:on,isBuffer:je,isFormData:or,isArrayBufferView:Qn,isString:Xn,isNumber:ln,isBoolean:Yn,isObject:Re,isPlainObject:Me,isEmptyObject:Zn,isReadableStream:lr,isRequest:ar,isResponse:cr,isHeaders:ur,isUndefined:fe,isDate:er,isFile:tr,isBlob:nr,isRegExp:Cr,isFunction:D,isStream:sr,isURLSearchParams:ir,isTypedArray:yr,isFileList:rr,forEach:Ne,merge:dt,extend:gr,trim:dr,stripBOM:mr,inherits:pr,toFlatObject:fr,kindOf:De,kindOfTest:J,endsWith:hr,toArray:xr,forEachEntry:wr,matchAll:vr,isHTMLForm:br,hasOwnProperty:Lt,hasOwnProp:Lt,reduceDescriptors:un,freezeMethods:jr,toObjectSet:Rr,toCamelCase:Sr,noop:Nr,toFiniteNumber:_r,findKey:an,global:ae,isContextDefined:cn,isSpecCompliantForm:Fr,toJSONObject:Pr,isAsyncFn:Er,isThenable:$r,setImmediate:dn,asap:Ar,isIterable:Ir};function _(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}y.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const gn=_.prototype,mn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mn[e]={value:e}});Object.defineProperties(_,mn);Object.defineProperty(gn,"isAxiosError",{value:!0});_.from=(e,t,n,r,s,i)=>{const l=Object.create(gn);y.toFlatObject(e,l,function(g){return g!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return _.call(l,a,d,n,r,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const Mr=null;function gt(e){return y.isPlainObject(e)||y.isArray(e)}function pn(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,n){return e?e.concat(t).map(function(s,i){return s=pn(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function kr(e){return y.isArray(e)&&!e.some(gt)}const Lr=y.toFlatObject(y,{},null,function(t){return/^is[A-Z]/.test(t)});function Be(e,t,n){if(!y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,x){return!y.isUndefined(x[h])});const r=n.metaTokens,s=n.visitor||g,i=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(t);if(!y.isFunction(s))throw new TypeError("visitor must be a function");function c(u){if(u===null)return"";if(y.isDate(u))return u.toISOString();if(y.isBoolean(u))return u.toString();if(!d&&y.isBlob(u))throw new _("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(u)||y.isTypedArray(u)?d&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function g(u,h,x){let w=u;if(u&&!x&&typeof u=="object"){if(y.endsWith(h,"{}"))h=r?h:h.slice(0,-2),u=JSON.stringify(u);else if(y.isArray(u)&&kr(u)||(y.isFileList(u)||y.endsWith(h,"[]"))&&(w=y.toArray(u)))return h=pn(h),w.forEach(function(C,b){!(y.isUndefined(C)||C===null)&&t.append(l===!0?Ot([h],b,i):l===null?h:h+"[]",c(C))}),!1}return gt(u)?!0:(t.append(Ot(x,h,i),c(u)),!1)}const m=[],f=Object.assign(Lr,{defaultVisitor:g,convertValue:c,isVisitable:gt});function p(u,h){if(!y.isUndefined(u)){if(m.indexOf(u)!==-1)throw Error("Circular reference detected in "+h.join("."));m.push(u),y.forEach(u,function(w,N){(!(y.isUndefined(w)||w===null)&&s.call(t,w,y.isString(N)?N.trim():N,h,f))===!0&&p(w,h?h.concat(N):[N])}),m.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Vt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ct(e,t){this._pairs=[],e&&Be(e,this,t)}const fn=Ct.prototype;fn.append=function(t,n){this._pairs.push([t,n])};fn.toString=function(t){const n=t?function(r){return t.call(this,r,Vt)}:Vt;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Or(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hn(e,t,n){if(!t)return e;const r=n&&n.encode||Or;y.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=y.isURLSearchParams(t)?t.toString():new Ct(t,n).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Tt{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){y.forEach(this.handlers,function(r){r!==null&&t(r)})}}const xn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vr=typeof URLSearchParams<"u"?URLSearchParams:Ct,Tr=typeof FormData<"u"?FormData:null,Dr=typeof Blob<"u"?Blob:null,zr={isBrowser:!0,classes:{URLSearchParams:Vr,FormData:Tr,Blob:Dr},protocols:["http","https","file","blob","url","data"]},jt=typeof window<"u"&&typeof document<"u",mt=typeof navigator=="object"&&navigator||void 0,Br=jt&&(!mt||["ReactNative","NativeScript","NS"].indexOf(mt.product)<0),Hr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qr=jt&&window.location.href||"http://localhost",Gr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jt,hasStandardBrowserEnv:Br,hasStandardBrowserWebWorkerEnv:Hr,navigator:mt,origin:qr},Symbol.toStringTag,{value:"Module"})),O={...Gr,...zr};function Ur(e,t){return Be(e,new O.classes.URLSearchParams,{visitor:function(n,r,s,i){return O.isNode&&y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Kr(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Wr(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function yn(e){function t(n,r,s,i){let l=n[i++];if(l==="__proto__")return!0;const a=Number.isFinite(+l),d=i>=n.length;return l=!l&&y.isArray(s)?s.length:l,d?(y.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!a):((!s[l]||!y.isObject(s[l]))&&(s[l]=[]),t(n,r,s[l],i)&&y.isArray(s[l])&&(s[l]=Wr(s[l])),!a)}if(y.isFormData(e)&&y.isFunction(e.entries)){const n={};return y.forEachEntry(e,(r,s)=>{t(Kr(r),s,n,0)}),n}return null}function Jr(e,t,n){if(y.isString(e))try{return(t||JSON.parse)(e),y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const _e={transitional:xn,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=y.isObject(t);if(i&&y.isHTMLForm(t)&&(t=new FormData(t)),y.isFormData(t))return s?JSON.stringify(yn(t)):t;if(y.isArrayBuffer(t)||y.isBuffer(t)||y.isStream(t)||y.isFile(t)||y.isBlob(t)||y.isReadableStream(t))return t;if(y.isArrayBufferView(t))return t.buffer;if(y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ur(t,this.formSerializer).toString();if((a=y.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Be(a?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Jr(t)):t}],transformResponse:[function(t){const n=this.transitional||_e.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(y.isResponse(t)||y.isReadableStream(t))return t;if(t&&y.isString(t)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(l)throw a.name==="SyntaxError"?_.from(a,_.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:O.classes.FormData,Blob:O.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{_e.headers[e]={}});const Qr=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xr=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||t[n]&&Qr[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Dt=Symbol("internals");function be(e){return e&&String(e).trim().toLowerCase()}function ke(e){return e===!1||e==null?e:y.isArray(e)?e.map(ke):String(e)}function Yr(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Zr=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ze(e,t,n,r,s){if(y.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!y.isString(t)){if(y.isString(r))return t.indexOf(r)!==-1;if(y.isRegExp(r))return r.test(t)}}function es(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ts(e,t){const n=y.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,l){return this[r].call(this,t,s,i,l)},configurable:!0})})}let z=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,d,c){const g=be(d);if(!g)throw new Error("header name must be a non-empty string");const m=y.findKey(s,g);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||d]=ke(a))}const l=(a,d)=>y.forEach(a,(c,g)=>i(c,g,d));if(y.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(y.isString(t)&&(t=t.trim())&&!Zr(t))l(Xr(t),n);else if(y.isObject(t)&&y.isIterable(t)){let a={},d,c;for(const g of t){if(!y.isArray(g))throw TypeError("Object iterator must return a key-value pair");a[c=g[0]]=(d=a[c])?y.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}l(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=be(t),t){const r=y.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Yr(s);if(y.isFunction(n))return n.call(this,s,r);if(y.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=be(t),t){const r=y.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ze(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(l){if(l=be(l),l){const a=y.findKey(r,l);a&&(!n||Ze(r,r[a],a,n))&&(delete r[a],s=!0)}}return y.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Ze(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return y.forEach(this,(s,i)=>{const l=y.findKey(r,i);if(l){n[l]=ke(s),delete n[i];return}const a=t?es(i):String(i).trim();a!==i&&delete n[i],n[a]=ke(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Dt]=this[Dt]={accessors:{}}).accessors,s=this.prototype;function i(l){const a=be(l);r[a]||(ts(s,l),r[a]=!0)}return y.isArray(t)?t.forEach(i):i(t),this}};z.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(z.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});y.freezeMethods(z);function et(e,t){const n=this||_e,r=t||n,s=z.from(r.headers);let i=r.data;return y.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function wn(e){return!!(e&&e.__CANCEL__)}function xe(e,t,n){_.call(this,e??"canceled",_.ERR_CANCELED,t,n),this.name="CanceledError"}y.inherits(xe,_,{__CANCEL__:!0});function vn(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new _("Request failed with status code "+n.status,[_.ERR_BAD_REQUEST,_.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ns(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rs(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),g=r[i];l||(l=c),n[s]=d,r[s]=c;let m=i,f=0;for(;m!==s;)f+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-l<t)return;const p=g&&c-g;return p?Math.round(f*1e3/p):void 0}}function ss(e,t){let n=0,r=1e3/t,s,i;const l=(c,g=Date.now())=>{n=g,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const g=Date.now(),m=g-n;m>=r?l(c,g):(s=c,i||(i=setTimeout(()=>{i=null,l(s)},r-m)))},()=>s&&l(s)]}const Oe=(e,t,n=3)=>{let r=0;const s=rs(50,250);return ss(i=>{const l=i.loaded,a=i.lengthComputable?i.total:void 0,d=l-r,c=s(d),g=l<=a;r=l;const m={loaded:l,total:a,progress:a?l/a:void 0,bytes:d,rate:c||void 0,estimated:c&&a&&g?(a-l)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(m)},n)},zt=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Bt=e=>(...t)=>y.asap(()=>e(...t)),os=O.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,O.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(O.origin),O.navigator&&/(msie|trident)/i.test(O.navigator.userAgent)):()=>!0,is=O.hasStandardBrowserEnv?{write(e,t,n,r,s,i,l){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];y.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),y.isString(r)&&a.push(`path=${r}`),y.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),y.isString(l)&&a.push(`SameSite=${l}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ls(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function as(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bn(e,t,n){let r=!ls(t);return e&&(r||n==!1)?as(e,t):t}const Ht=e=>e instanceof z?{...e}:e;function ue(e,t){t=t||{};const n={};function r(c,g,m,f){return y.isPlainObject(c)&&y.isPlainObject(g)?y.merge.call({caseless:f},c,g):y.isPlainObject(g)?y.merge({},g):y.isArray(g)?g.slice():g}function s(c,g,m,f){if(y.isUndefined(g)){if(!y.isUndefined(c))return r(void 0,c,m,f)}else return r(c,g,m,f)}function i(c,g){if(!y.isUndefined(g))return r(void 0,g)}function l(c,g){if(y.isUndefined(g)){if(!y.isUndefined(c))return r(void 0,c)}else return r(void 0,g)}function a(c,g,m){if(m in t)return r(c,g);if(m in e)return r(void 0,c)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(c,g,m)=>s(Ht(c),Ht(g),m,!0)};return y.forEach(Object.keys({...e,...t}),function(g){const m=d[g]||s,f=m(e[g],t[g],g);y.isUndefined(f)&&m!==a||(n[g]=f)}),n}const Sn=e=>{const t=ue({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:a}=t;if(t.headers=l=z.from(l),t.url=hn(bn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&l.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),y.isFormData(n)){if(O.hasStandardBrowserEnv||O.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(y.isFunction(n.getHeaders)){const d=n.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([g,m])=>{c.includes(g.toLowerCase())&&l.set(g,m)})}}if(O.hasStandardBrowserEnv&&(r&&y.isFunction(r)&&(r=r(t)),r||r!==!1&&os(t.url))){const d=s&&i&&is.read(i);d&&l.set(s,d)}return t},cs=typeof XMLHttpRequest<"u",us=cs&&function(e){return new Promise(function(n,r){const s=Sn(e);let i=s.data;const l=z.from(s.headers).normalize();let{responseType:a,onUploadProgress:d,onDownloadProgress:c}=s,g,m,f,p,u;function h(){p&&p(),u&&u(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function w(){if(!x)return;const C=z.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),F={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:C,config:e,request:x};vn(function(k){n(k),h()},function(k){r(k),h()},F),x=null}"onloadend"in x?x.onloadend=w:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(w)},x.onabort=function(){x&&(r(new _("Request aborted",_.ECONNABORTED,e,x)),x=null)},x.onerror=function(b){const F=b&&b.message?b.message:"Network Error",M=new _(F,_.ERR_NETWORK,e,x);M.event=b||null,r(M),x=null},x.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const F=s.transitional||xn;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),r(new _(b,F.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,e,x)),x=null},i===void 0&&l.setContentType(null),"setRequestHeader"in x&&y.forEach(l.toJSON(),function(b,F){x.setRequestHeader(F,b)}),y.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),a&&a!=="json"&&(x.responseType=s.responseType),c&&([f,u]=Oe(c,!0),x.addEventListener("progress",f)),d&&x.upload&&([m,p]=Oe(d),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(g=C=>{x&&(r(!C||C.type?new xe(null,e,x):C),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const N=ns(s.url);if(N&&O.protocols.indexOf(N)===-1){r(new _("Unsupported protocol "+N+":",_.ERR_BAD_REQUEST,e));return}x.send(i||null)})},ds=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const g=c instanceof Error?c:this.reason;r.abort(g instanceof _?g:new xe(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,i(new _(`timeout ${t} of ms exceeded`,_.ETIMEDOUT))},t);const a=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>y.asap(a),d}},gs=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},ms=async function*(e,t){for await(const n of ps(e))yield*gs(n,t)},ps=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},qt=(e,t,n,r)=>{const s=ms(e,t);let i=0,l,a=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:g}=await s.next();if(c){a(),d.close();return}let m=g.byteLength;if(n){let f=i+=m;n(f)}d.enqueue(new Uint8Array(g))}catch(c){throw a(c),c}},cancel(d){return a(d),s.return()}},{highWaterMark:2})},Gt=64*1024,{isFunction:Ee}=y,fs=(({Request:e,Response:t})=>({Request:e,Response:t}))(y.global),{ReadableStream:Ut,TextEncoder:Kt}=y.global,Wt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hs=e=>{e=y.merge.call({skipUndefined:!0},fs,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ee(t):typeof fetch=="function",i=Ee(n),l=Ee(r);if(!s)return!1;const a=s&&Ee(Ut),d=s&&(typeof Kt=="function"?(u=>h=>u.encode(h))(new Kt):async u=>new Uint8Array(await new n(u).arrayBuffer())),c=i&&a&&Wt(()=>{let u=!1;const h=new n(O.origin,{body:new Ut,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!h}),g=l&&a&&Wt(()=>y.isReadableStream(new r("").body)),m={stream:g&&(u=>u.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(u=>{!m[u]&&(m[u]=(h,x)=>{let w=h&&h[u];if(w)return w.call(h);throw new _(`Response type '${u}' is not supported`,_.ERR_NOT_SUPPORT,x)})});const f=async u=>{if(u==null)return 0;if(y.isBlob(u))return u.size;if(y.isSpecCompliantForm(u))return(await new n(O.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(y.isArrayBufferView(u)||y.isArrayBuffer(u))return u.byteLength;if(y.isURLSearchParams(u)&&(u=u+""),y.isString(u))return(await d(u)).byteLength},p=async(u,h)=>{const x=y.toFiniteNumber(u.getContentLength());return x??f(h)};return async u=>{let{url:h,method:x,data:w,signal:N,cancelToken:C,timeout:b,onDownloadProgress:F,onUploadProgress:M,responseType:k,headers:E,withCredentials:v="same-origin",fetchOptions:$}=Sn(u),Z=t||fetch;k=k?(k+"").toLowerCase():"text";let ie=ds([N,C&&C.toAbortSignal()],b),ve=null;const le=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let $t;try{if(M&&c&&x!=="get"&&x!=="head"&&($t=await p(E,w))!==0){let te=new n(h,{method:"POST",body:w,duplex:"half"}),ge;if(y.isFormData(w)&&(ge=te.headers.get("content-type"))&&E.setContentType(ge),te.body){const[Ue,Fe]=zt($t,Oe(Bt(M)));w=qt(te.body,Gt,Ue,Fe)}}y.isString(v)||(v=v?"include":"omit");const Q=i&&"credentials"in n.prototype,At={...$,signal:ie,method:x.toUpperCase(),headers:E.normalize().toJSON(),body:w,duplex:"half",credentials:Q?v:void 0};ve=i&&new n(h,At);let ee=await(i?Z(ve,$):Z(h,At));const It=g&&(k==="stream"||k==="response");if(g&&(F||It&&le)){const te={};["status","statusText","headers"].forEach(Mt=>{te[Mt]=ee[Mt]});const ge=y.toFiniteNumber(ee.headers.get("content-length")),[Ue,Fe]=F&&zt(ge,Oe(Bt(F),!0))||[];ee=new r(qt(ee.body,Gt,Ue,()=>{Fe&&Fe(),le&&le()}),te)}k=k||"text";let Tn=await m[y.findKey(m,k)||"text"](ee,u);return!It&&le&&le(),await new Promise((te,ge)=>{vn(te,ge,{data:Tn,headers:z.from(ee.headers),status:ee.status,statusText:ee.statusText,config:u,request:ve})})}catch(Q){throw le&&le(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new _("Network Error",_.ERR_NETWORK,u,ve),{cause:Q.cause||Q}):_.from(Q,Q&&Q.code,u,ve)}}},xs=new Map,Cn=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let l=i.length,a=l,d,c,g=xs;for(;a--;)d=i[a],c=g.get(d),c===void 0&&g.set(d,c=a?new Map:hs(t)),g=c;return c};Cn();const Rt={http:Mr,xhr:us,fetch:{get:Cn}};y.forEach(Rt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jt=e=>`- ${e}`,ys=e=>y.isFunction(e)||e===null||e===!1;function ws(e,t){e=y.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let l=0;l<n;l++){r=e[l];let a;if(s=r,!ys(r)&&(s=Rt[(a=String(r)).toLowerCase()],s===void 0))throw new _(`Unknown adapter '${a}'`);if(s&&(y.isFunction(s)||(s=s.get(t))))break;i[a||"#"+l]=s}if(!s){const l=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?l.length>1?`since :
`+l.map(Jt).join(`
`):" "+Jt(l[0]):"as no adapter specified";throw new _("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const jn={getAdapter:ws,adapters:Rt};function tt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xe(null,e)}function Qt(e){return tt(e),e.headers=z.from(e.headers),e.data=et.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jn.getAdapter(e.adapter||_e.adapter,e)(e).then(function(r){return tt(e),r.data=et.call(e,e.transformResponse,r),r.headers=z.from(r.headers),r},function(r){return wn(r)||(tt(e),r&&r.response&&(r.response.data=et.call(e,e.transformResponse,r.response),r.response.headers=z.from(r.response.headers))),Promise.reject(r)})}const Rn="1.13.2",He={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{He[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Xt={};He.transitional=function(t,n,r){function s(i,l){return"[Axios v"+Rn+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,a)=>{if(t===!1)throw new _(s(l," has been removed"+(n?" in "+n:"")),_.ERR_DEPRECATED);return n&&!Xt[l]&&(Xt[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,a):!0}};He.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function vs(e,t,n){if(typeof e!="object")throw new _("options must be an object",_.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],l=t[i];if(l){const a=e[i],d=a===void 0||l(a,i,e);if(d!==!0)throw new _("option "+i+" must be "+d,_.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _("Unknown option "+i,_.ERR_BAD_OPTION)}}const Le={assertOptions:vs,validators:He},X=Le.validators;let ce=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Tt,response:new Tt}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ue(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Le.assertOptions(r,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1),s!=null&&(y.isFunction(s)?n.paramsSerializer={serialize:s}:Le.assertOptions(s,{encode:X.function,serialize:X.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Le.assertOptions(n,{baseUrl:X.spelling("baseURL"),withXsrfToken:X.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&y.merge(i.common,i[n.method]);i&&y.forEach(["delete","get","head","post","put","patch","common"],u=>{delete i[u]}),n.headers=z.concat(l,i);const a=[];let d=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(d=d&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});const c=[];this.interceptors.response.forEach(function(h){c.push(h.fulfilled,h.rejected)});let g,m=0,f;if(!d){const u=[Qt.bind(this),void 0];for(u.unshift(...a),u.push(...c),f=u.length,g=Promise.resolve(n);m<f;)g=g.then(u[m++],u[m++]);return g}f=a.length;let p=n;for(;m<f;){const u=a[m++],h=a[m++];try{p=u(p)}catch(x){h.call(this,x);break}}try{g=Qt.call(this,p)}catch(u){return Promise.reject(u)}for(m=0,f=c.length;m<f;)g=g.then(c[m++],c[m++]);return g}getUri(t){t=ue(this.defaults,t);const n=bn(t.baseURL,t.url,t.allowAbsoluteUrls);return hn(n,t.params,t.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(t){ce.prototype[t]=function(n,r){return this.request(ue(r||{},{method:t,url:n,data:(r||{}).data}))}});y.forEach(["post","put","patch"],function(t){function n(r){return function(i,l,a){return this.request(ue(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}ce.prototype[t]=n(),ce.prototype[t+"Form"]=n(!0)});let bs=class Nn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(a=>{r.subscribe(a),i=a}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,a){r.reason||(r.reason=new xe(i,l,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Nn(function(s){t=s}),cancel:t}}};function Ss(e){return function(n){return e.apply(null,n)}}function Cs(e){return y.isObject(e)&&e.isAxiosError===!0}const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pt).forEach(([e,t])=>{pt[t]=e});function _n(e){const t=new ce(e),n=rn(ce.prototype.request,t);return y.extend(n,ce.prototype,t,{allOwnKeys:!0}),y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return _n(ue(e,s))},n}const I=_n(_e);I.Axios=ce;I.CanceledError=xe;I.CancelToken=bs;I.isCancel=wn;I.VERSION=Rn;I.toFormData=Be;I.AxiosError=_;I.Cancel=I.CanceledError;I.all=function(t){return Promise.all(t)};I.spread=Ss;I.isAxiosError=Cs;I.mergeConfig=ue;I.AxiosHeaders=z;I.formToJSON=e=>yn(y.isHTMLForm(e)?new FormData(e):e);I.getAdapter=jn.getAdapter;I.HttpStatusCode=pt;I.default=I;const{Axios:$i,AxiosError:Ai,CanceledError:Ii,isCancel:Mi,CancelToken:ki,VERSION:Li,all:Oi,Cancel:Vi,isAxiosError:Ti,spread:Di,toFormData:zi,AxiosHeaders:Bi,HttpStatusCode:Hi,formToJSON:qi,getAdapter:Gi,mergeConfig:Ui}=I,A=I.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});A.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});A.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const nt={register:e=>A.post("/auth/register",e),login:e=>A.post("/auth/login",e),me:()=>A.get("/auth/me")},q={getAll:()=>A.get("/games"),getGenreStats:()=>A.get("/games/stats/genres"),getOne:e=>A.get(`/games/${e}`),updateStatus:(e,t,n)=>A.patch(`/games/${e}/status`,{platform_id:t,status:n}),updateRating:(e,t,n)=>A.put(`/games/${e}/rating`,{platform_id:t,rating:n}),updateNotes:(e,t,n)=>A.post(`/games/${e}/notes`,{platform_id:t,notes:n}),toggleFavorite:(e,t,n)=>A.put(`/games/${e}/favorite`,{platform_id:t,is_favorite:n}),getCustomFields:e=>A.get(`/games/${e}/custom-fields`),updateCustomFields:(e,t,n)=>A.put(`/games/${e}/custom-fields`,{platform_id:t,...n})},js={bulk:(e,t)=>A.post("/import/bulk",{gameNames:e,platformId:t})},K={getAll:()=>A.get("/collections"),getOne:e=>A.get(`/collections/${e}/games`),create:(e,t)=>A.post("/collections",{name:e,description:t}),update:(e,t,n)=>A.put(`/collections/${e}`,{name:t,description:n}),delete:e=>A.delete(`/collections/${e}`),addGame:(e,t)=>A.post(`/collections/${e}/games`,{game_id:t}),removeGame:(e,t)=>A.delete(`/collections/${e}/games/${t}`),getSeries:()=>A.get("/collections/series"),getSeriesGames:e=>A.get(`/collections/series/${encodeURIComponent(e)}/games`)},Fn=S.createContext(void 0);function Rs({children:e}){const[t,n]=S.useState(null),[r,s]=S.useState(null),[i,l]=S.useState(!0);S.useEffect(()=>{const g=localStorage.getItem("token"),m=localStorage.getItem("user");g&&m?(s(g),n(JSON.parse(m)),nt.me().then(()=>l(!1)).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),n(null),l(!1)})):l(!1)},[]);const a=async(g,m)=>{const f=await nt.login({email:g,password:m}),{user:p,token:u}=f.data;n(p),s(u),localStorage.setItem("token",u),localStorage.setItem("user",JSON.stringify(p))},d=async(g,m,f)=>{const p=await nt.register({username:g,email:m,password:f}),{user:u,token:h}=p.data;n(u),s(h),localStorage.setItem("token",h),localStorage.setItem("user",JSON.stringify(u))},c=()=>{n(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user")};return o.jsx(Fn.Provider,{value:{user:t,token:r,isLoading:i,login:a,register:d,logout:c},children:e})}function ye(){const e=S.useContext(Fn);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Pn=S.createContext(void 0);function Ns({children:e}){const[t,n]=S.useState([]),r=S.useCallback((i,l="info")=>{const a=Math.random().toString(36).substring(7),d={id:a,message:i,type:l};n(c=>[...c,d]),setTimeout(()=>{n(c=>c.filter(g=>g.id!==a))},3e3)},[]),s=S.useCallback(i=>{n(l=>l.filter(a=>a.id!==i))},[]);return o.jsxs(Pn.Provider,{value:{toasts:t,showToast:r,removeToast:s},children:[e,o.jsx(_s,{toasts:t,onRemove:s})]})}function we(){const e=S.useContext(Pn);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function _s({toasts:e,onRemove:t}){return e.length===0?null:o.jsx("div",{className:"fixed bottom-20 md:bottom-6 right-6 z-50 space-y-2",children:e.map(n=>o.jsx(Fs,{toast:n,onRemove:t},n.id))})}function Fs({toast:e,onRemove:t}){const n={success:"bg-primary-green/20 border-primary-green text-primary-green",error:"bg-primary-red/20 border-primary-red text-primary-red",warning:"bg-primary-yellow/20 border-primary-yellow text-primary-yellow",info:"bg-primary-cyan/20 border-primary-cyan text-primary-cyan"},r={success:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};return o.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg backdrop-blur-sm min-w-[300px] max-w-[400px] animate-slide-in ${n[e.type]}`,children:[o.jsx("div",{className:"flex-shrink-0",children:r[e.type]}),o.jsx("p",{className:"flex-1 text-sm font-medium",children:e.message}),o.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 hover:opacity-70 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}const oe=Dn({beforeLoad:()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;return{auth:{token:e,user:t}}},component:()=>o.jsxs(o.Fragment,{children:[o.jsx(vt,{}),!1]})});function Ps(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[l,a]=S.useState(""),[d,c]=S.useState(""),[g,m]=S.useState(!1),{register:f}=ye(),p=Ve(),u=async h=>{var x,w;if(h.preventDefault(),c(""),s!==l){c("Passwords do not match");return}if(s.length<8){c("Password must be at least 8 characters");return}m(!0);try{await f(e,n,s),p({to:"/dashboard"})}catch(N){c(((w=(x=N.response)==null?void 0:x.data)==null?void 0:w.error)||"Failed to register")}finally{m(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"card max-w-md w-full",children:[o.jsx("h1",{className:"text-primary-purple mb-6 text-center",children:"Create Account"}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d&&o.jsx("div",{className:"bg-primary-red/20 border border-primary-red text-primary-red px-4 py-2 rounded",children:d}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username"}),o.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),className:"input w-full",placeholder:"Enter username",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsx("input",{type:"email",value:n,onChange:h=>r(h.target.value),className:"input w-full",placeholder:"Enter email",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),o.jsx("input",{type:"password",value:s,onChange:h=>i(h.target.value),className:"input w-full",placeholder:"Enter password",required:!0,minLength:8})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",value:l,onChange:h=>a(h.target.value),className:"input w-full",placeholder:"Confirm password",required:!0})]}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:g,children:g?"Creating account...":"Register"})]}),o.jsxs("p",{className:"text-center mt-4 text-zinc-400",children:["Already have an account?"," ",o.jsx(P,{to:"/login",className:"text-primary-cyan hover:text-cyan-400 transition-colors",children:"Login"})]})]})})}const Es=U("/register")({beforeLoad:({context:e})=>{if(e.auth.token)throw re({to:"/dashboard"})},component:Ps});function $s(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[l,a]=S.useState(!1),{login:d}=ye(),c=Ve(),g=async m=>{var f,p;m.preventDefault(),i(""),a(!0);try{await d(e,n),c({to:"/dashboard"})}catch(u){i(((p=(f=u.response)==null?void 0:f.data)==null?void 0:p.error)||"Failed to login")}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"card max-w-md w-full",children:[o.jsx("h1",{className:"text-primary-purple mb-6 text-center",children:"GameList"}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s&&o.jsx("div",{className:"bg-primary-red/20 border border-primary-red text-primary-red px-4 py-2 rounded",children:s}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsx("input",{type:"email",value:e,onChange:m=>t(m.target.value),className:"input w-full",placeholder:"Enter email",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),o.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),className:"input w-full",placeholder:"Enter password",required:!0})]}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:l,children:l?"Logging in...":"Login"})]}),o.jsxs("p",{className:"text-center mt-4 text-zinc-400",children:["Don't have an account?"," ",o.jsx(P,{to:"/register",className:"text-primary-cyan hover:text-cyan-400 transition-colors",children:"Register"})]})]})})}const As=U("/login")({beforeLoad:({context:e})=>{if(e.auth.token)throw re({to:"/dashboard"})},component:$s}),Is=U("/library")({beforeLoad:({context:e})=>{if(!e.auth.token)throw re({to:"/login"})},component:()=>o.jsx(vt,{})});function Ms(){var s;const{user:e,logout:t}=ye(),[n,r]=S.useState(!1);return o.jsx("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-gray-900 border-b border-gray-800 z-50",children:o.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-8",children:[o.jsxs(P,{to:"/",className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-purple to-primary-cyan rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"G"})}),o.jsx("span",{className:"text-white font-bold text-xl",children:"GameList"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[o.jsx(P,{to:"/dashboard",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Dashboard"}),o.jsx(P,{to:"/library",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Library"}),o.jsx(P,{to:"/collections",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Collections"}),o.jsx(P,{to:"/import",className:"px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",activeProps:{className:"text-primary-purple bg-primary-purple/10"},children:"Import"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 px-3 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-cyan to-primary-purple rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium text-sm",children:((s=e==null?void 0:e.username)==null?void 0:s.charAt(0).toUpperCase())||"U"})}),o.jsx("span",{className:"hidden md:inline text-sm",children:e==null?void 0:e.username}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",children:o.jsx("div",{className:"py-1",children:o.jsx("button",{onClick:()=>{r(!1),t()},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",children:"Logout"})})})]})]})]})})}function ks({children:e}){var g;const{user:t}=ye(),{data:n}=B({queryKey:["games"],queryFn:async()=>(await q.getAll()).data}),{data:r}=B({queryKey:["collections"],queryFn:async()=>(await K.getAll()).data}),s=(n==null?void 0:n.games)||[],i=s.length,l=s.filter(m=>m.status==="playing").length,a=s.filter(m=>m.status==="completed"||m.status==="finished").length,d=s.filter(m=>m.is_favorite===!0).length,c=(r==null?void 0:r.collections)||[];return o.jsx("aside",{className:"hidden md:block fixed left-0 top-16 bottom-0 w-60 bg-gray-900 border-r border-gray-800 overflow-y-auto",children:o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsx("div",{className:"pb-4 border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-cyan to-primary-purple rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium",children:((g=t==null?void 0:t.username)==null?void 0:g.charAt(0).toUpperCase())||"U"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-white truncate",children:t==null?void 0:t.username}),o.jsx("p",{className:"text-xs text-gray-400",children:t==null?void 0:t.email})]})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Quick Stats"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Total Games"}),o.jsx("span",{className:"text-white font-medium",children:i})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Playing"}),o.jsx("span",{className:"text-primary-cyan font-medium",children:l})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Completed"}),o.jsx("span",{className:"text-primary-green font-medium",children:a})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Favorites"}),o.jsx("span",{className:"text-red-400 font-medium",children:d})]})]})]}),c.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"My Collections"}),o.jsxs("div",{className:"space-y-1",children:[c.slice(0,5).map(m=>o.jsxs(P,{to:"/collections/$id",params:{id:m.id},className:"flex items-center justify-between text-sm px-2 py-1.5 rounded hover:bg-gray-800 transition-colors",children:[o.jsx("span",{className:"text-gray-300 truncate",children:m.name}),o.jsx("span",{className:"text-gray-500 text-xs",children:m.game_count})]},m.id)),c.length>5&&o.jsxs(P,{to:"/collections",className:"text-xs text-primary-cyan hover:text-primary-purple transition-colors block px-2 py-1",children:["View all (",c.length,")"]})]})]}),e&&o.jsx("div",{children:e})]})})}function Ls(){var t;const{user:e}=ye();return o.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-gray-900 border-t border-gray-800 z-50",children:o.jsxs("div",{className:"h-full grid grid-cols-5 gap-1",children:[o.jsxs(P,{to:"/dashboard",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),o.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),o.jsxs(P,{to:"/library",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{className:"text-xs mt-1",children:"Library"})]}),o.jsxs(P,{to:"/collections",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{className:"text-xs mt-1",children:"Collections"})]}),o.jsxs(P,{to:"/import",className:"flex flex-col items-center justify-center text-gray-400 hover:text-white transition-colors",activeProps:{className:"text-primary-purple"},children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),o.jsx("span",{className:"text-xs mt-1",children:"Import"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary-cyan to-primary-purple rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium text-xs",children:((t=e==null?void 0:e.username)==null?void 0:t.charAt(0).toUpperCase())||"U"})}),o.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})})}function T({children:e,sidebar:t}){return o.jsxs("div",{className:"min-h-screen bg-gray-950 text-white",children:[o.jsx(Ms,{}),o.jsxs("div",{className:"pt-16 md:pb-0 pb-16",children:[o.jsx(ks,{children:t}),o.jsx("main",{className:"md:ml-60 min-h-[calc(100vh-4rem)]",children:o.jsx("div",{className:"p-6",children:e})})]}),o.jsx(Ls,{})]})}function Os(){var p;const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(null),l=de(),a=Ve(),{showToast:d}=we(),{data:c}=B({queryKey:["platforms"],queryFn:async()=>{const u=localStorage.getItem("token");return(await I.get("/api/platforms",{headers:{Authorization:`Bearer ${u}`}})).data}}),g=(c==null?void 0:c.platforms)||[];if(g.length>0&&!n){const u=g.find(h=>h.name==="steam");r((u==null?void 0:u.id)||g[0].id)}const m=G({mutationFn:({names:u,platformId:h})=>js.bulk(u,h),onSuccess:u=>{i(u.data),l.invalidateQueries({queryKey:["games"]});const h=u.data;h.imported.length>0&&d(`Successfully imported ${h.imported.length} game(s)`,"success"),h.needsReview.length>0&&d(`${h.needsReview.length} game(s) need review`,"warning"),h.needsReview.length===0&&h.imported.length>0&&setTimeout(()=>{a({to:"/library"})},2e3)},onError:()=>{d("Failed to import games","error")}}),f=()=>{const u=e.split(`
`).map(h=>h.trim()).filter(h=>h.length>0);u.length!==0&&n&&(i(null),m.mutate({names:u,platformId:n}))};return o.jsx(T,{children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Import Games"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Paste game names (one per line) and we'll automatically enrich them with metadata"}),o.jsxs("div",{className:"card mb-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium mb-3",children:"Platform (Required)"}),o.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(u=>o.jsx("button",{type:"button",onClick:()=>r(u.id),disabled:m.isPending,className:`px-4 py-2 rounded border transition-all ${n===u.id?"bg-primary-purple border-purple-500 text-white shadow-glow-purple":"bg-bg-secondary border-zinc-700 text-zinc-400 hover:border-zinc-500"}`,children:u.display_name},u.id))}),n&&o.jsxs("p",{className:"text-xs text-primary-cyan mt-2",children:["Games will be imported to ",(p=g.find(u=>u.id===n))==null?void 0:p.display_name]})]}),o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Game Names"}),o.jsx("textarea",{value:e,onChange:u=>t(u.target.value),className:"input w-full min-h-[300px] font-mono text-sm",placeholder:`The Witcher 3
God of War
Halo Infinite
Cyberpunk 2077
Elden Ring`,disabled:m.isPending}),o.jsxs("div",{className:"mt-4 flex gap-4",children:[o.jsx("button",{onClick:f,disabled:m.isPending||!e.trim()||!n,className:"btn btn-primary",children:m.isPending?"Importing...":"Import Games"}),s&&s.imported.length>0&&s.needsReview.length===0&&o.jsx(P,{to:"/library",className:"btn btn-primary",children:"View Library"}),s&&o.jsx("button",{onClick:()=>{t(""),i(null)},className:"btn btn-secondary",children:"Clear"})]}),m.isError&&o.jsx("div",{className:"mt-4 bg-primary-red/20 border border-primary-red text-primary-red px-4 py-2 rounded",children:"Failed to import games. Please try again."})]}),m.isPending&&o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-primary-purple border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-zinc-400",children:"Importing and enriching games..."})]})}),s&&o.jsxs("div",{className:"space-y-6",children:[s.imported.length>0&&o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary-green",children:["Successfully Imported (",s.imported.length,")"]}),o.jsx("div",{className:"space-y-3",children:s.imported.map((u,h)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 bg-bg-secondary rounded border border-zinc-700",children:[u.game.cover_art_url?o.jsx("img",{src:u.game.cover_art_url,alt:u.game.name,className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-zinc-800 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-zinc-600 text-xs",children:"No image"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium",children:u.game.name}),o.jsx("p",{className:"text-sm text-zinc-500",children:u.source==="exact"?"Exact match":"Best match"})]}),o.jsx("div",{className:"text-primary-green",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},h))})]}),s.needsReview.length>0&&o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary-yellow",children:["Needs Review (",s.needsReview.length,")"]}),o.jsx("div",{className:"space-y-4",children:s.needsReview.map((u,h)=>o.jsxs("div",{className:"p-4 bg-bg-secondary rounded border border-zinc-700",children:[o.jsxs("h3",{className:"font-medium mb-2",children:['"',u.searchTerm,'"']}),u.error?o.jsxs("p",{className:"text-sm text-primary-red",children:["Error: ",u.error]}):u.candidates.length===0?o.jsx("p",{className:"text-sm text-zinc-500",children:"No matches found"}):o.jsxs("div",{className:"space-y-2 mt-3",children:[o.jsxs("p",{className:"text-sm text-zinc-500",children:["Found ",u.candidates.length," possible matches:"]}),u.candidates.map(x=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-bg-hover rounded",children:[x.background_image&&o.jsx("img",{src:x.background_image,alt:x.name,className:"w-12 h-12 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:x.name}),x.released&&o.jsx("p",{className:"text-xs text-zinc-500",children:x.released})]}),o.jsx("button",{className:"btn btn-primary text-sm px-3 py-1",children:"Select"})]},x.id))]})]},h))})]})]})]})})}const Vs=U("/import")({beforeLoad:({context:e})=>{if(!e.auth.token)throw re({to:"/login"})},component:Os}),pe=S.forwardRef(({variant:e="primary",size:t="md",className:n="",children:r,...s},i)=>{const l="rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-950 disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-primary-purple text-white hover:bg-primary-purple/80 focus:ring-primary-purple shadow-lg shadow-primary-purple/20",secondary:"bg-primary-cyan text-white hover:bg-primary-cyan/80 focus:ring-primary-cyan shadow-lg shadow-primary-cyan/20",ghost:"bg-transparent text-gray-300 hover:bg-gray-800 hover:text-white focus:ring-gray-700",danger:"bg-primary-red text-white hover:bg-primary-red/80 focus:ring-primary-red shadow-lg shadow-primary-red/20"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return o.jsx("button",{ref:i,className:`${l} ${a[e]} ${d[t]} ${n}`,...s,children:r})});pe.displayName="Button";const Ts=S.forwardRef(({error:e,label:t,className:n="",...r},s)=>o.jsxs("div",{className:"w-full",children:[t&&o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:t}),o.jsx("input",{ref:s,className:`w-full bg-gray-900 border ${e?"border-primary-red":"border-gray-700"} rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-primary-purple transition-colors ${n}`,...r}),e&&o.jsx("p",{className:"mt-1 text-sm text-primary-red",children:e})]}));Ts.displayName="Input";function V({children:e,hover:t=!1,className:n="",...r}){return o.jsx("div",{className:`bg-gray-800/30 rounded-lg p-4 border border-gray-700/50 ${t?"hover:bg-gray-800/50 hover:border-gray-600 transition-all cursor-pointer":""} ${n}`,...r,children:e})}function rt({variant:e="rectangular",width:t,height:n,className:r="",...s}){const i="animate-pulse bg-gray-800/50",l={text:"h-4 rounded",rectangular:"rounded-lg",circular:"rounded-full"},a={};return t&&(a.width=typeof t=="number"?`${t}px`:t),n&&(a.height=typeof n=="number"?`${n}px`:n),o.jsx("div",{className:`${i} ${l[e]} ${r}`,style:a,...s})}function Ds(){return o.jsxs("div",{className:"space-y-3",children:[o.jsx(rt,{variant:"rectangular",className:"aspect-[3/4] w-full"}),o.jsx(rt,{variant:"text",width:"80%"}),o.jsx(rt,{variant:"text",width:"60%"})]})}const zs={backlog:"#71717A",playing:"#06B6D4",finished:"#10B981",completed:"#F59E0B",dropped:"#EF4444"},Yt=["#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444","#EC4899"],Zt=["#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444","#EC4899","#F472B6","#A78BFA","#34D399","#FBBF24"];function Bs(){const{data:e}=B({queryKey:["games"],queryFn:async()=>(await q.getAll()).data}),{data:t}=B({queryKey:["genreStats"],queryFn:async()=>(await q.getGenreStats()).data}),n=(e==null?void 0:e.games)||[],r=n.length,s=n.filter(m=>m.status==="playing").length,i=n.filter(m=>m.status==="completed"||m.status==="finished").length,l=n.filter(m=>m.status==="backlog").length,a=n.filter(m=>m.is_favorite===!0),d=S.useMemo(()=>{const m=n.reduce((f,p)=>{const u=p.status||"backlog";return f[u]=(f[u]||0)+1,f},{});return Object.entries(m).map(([f,p])=>({name:f.charAt(0).toUpperCase()+f.slice(1),value:p,color:zs[f]||"#71717A"}))},[n]),c=S.useMemo(()=>{const m=n.reduce((f,p)=>{const u=p.platform_display_name||"Unknown";return f[u]=(f[u]||0)+1,f},{});return Object.entries(m).map(([f,p],u)=>({name:f,value:p,color:Yt[u%Yt.length]}))},[n]),g=S.useMemo(()=>t!=null&&t.genres?t.genres.map((m,f)=>({name:m.name,value:m.count,color:Zt[f%Zt.length]})):[],[t]);return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Dashboard"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs(V,{className:"bg-primary-purple/10 border-primary-purple/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Total Games"}),o.jsx("p",{className:"text-3xl font-bold text-white",children:r})]}),o.jsxs(V,{className:"bg-primary-cyan/10 border-primary-cyan/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Currently Playing"}),o.jsx("p",{className:"text-3xl font-bold text-primary-cyan",children:s})]}),o.jsxs(V,{className:"bg-primary-green/10 border-primary-green/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Completed"}),o.jsx("p",{className:"text-3xl font-bold text-primary-green",children:i})]}),o.jsxs(V,{className:"bg-gray-700/30 border-gray-600/30",children:[o.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Backlog"}),o.jsx("p",{className:"text-3xl font-bold text-gray-300",children:l})]})]}),r>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Status Distribution"}),o.jsx(Ke,{width:"100%",height:300,children:o.jsxs(We,{children:[o.jsx(Je,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:d.map((m,f)=>o.jsx(Qe,{fill:m.color},`cell-${f}`))}),o.jsx(Xe,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",borderRadius:"8px",color:"#fff"}}),o.jsx(Ye,{wrapperStyle:{color:"#a1a1aa"},formatter:m=>o.jsx("span",{style:{color:"#a1a1aa"},children:m})})]})})]}),o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Platform Distribution"}),o.jsx(Ke,{width:"100%",height:300,children:o.jsxs(We,{children:[o.jsx(Je,{data:c,cx:"50%",cy:"50%",outerRadius:100,paddingAngle:2,dataKey:"value",children:c.map((m,f)=>o.jsx(Qe,{fill:m.color},`cell-${f}`))}),o.jsx(Xe,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",borderRadius:"8px",color:"#fff"}}),o.jsx(Ye,{wrapperStyle:{color:"#a1a1aa"},formatter:m=>o.jsx("span",{style:{color:"#a1a1aa"},children:m})})]})})]}),g.length>0&&o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Top Genres"}),o.jsx(Ke,{width:"100%",height:300,children:o.jsxs(We,{children:[o.jsx(Je,{data:g,cx:"50%",cy:"50%",outerRadius:100,paddingAngle:2,dataKey:"value",children:g.map((m,f)=>o.jsx(Qe,{fill:m.color},`cell-${f}`))}),o.jsx(Xe,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",borderRadius:"8px",color:"#fff"}}),o.jsx(Ye,{wrapperStyle:{color:"#a1a1aa"},formatter:m=>o.jsx("span",{style:{color:"#a1a1aa"},children:m})})]})})]})]}),a.length>0&&o.jsxs(V,{className:"mb-6 bg-red-950/20 border-red-500/30",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Favorites"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:a.slice(0,6).map(m=>o.jsxs(P,{to:"/library/$id",params:{id:m.id},className:"group relative",children:[o.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800 relative",children:[m.cover_art_url?o.jsx("img",{src:m.cover_art_url,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"}),o.jsx("div",{className:"absolute top-2 right-2 text-xl",children:""})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-300 truncate group-hover:text-white",children:m.name})]},m.id))})]}),s>0&&o.jsxs(V,{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Currently Playing"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:n.filter(m=>m.status==="playing").slice(0,6).map(m=>o.jsxs(P,{to:"/library/$id",params:{id:m.id},className:"group",children:[o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800",children:m.cover_art_url?o.jsx("img",{src:m.cover_art_url,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"})}),o.jsx("p",{className:"mt-2 text-sm text-gray-300 truncate group-hover:text-white",children:m.name})]},m.id))})]}),r===0?o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Get Started"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Import your games to start tracking your library"}),o.jsx(P,{to:"/import",className:"inline-block px-6 py-3 bg-primary-purple text-white rounded-lg hover:bg-primary-purple/80 transition-colors",children:"Import Games"})]}):o.jsxs(V,{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx(P,{to:"/library",className:"px-6 py-3 bg-primary-purple text-white rounded-lg hover:bg-primary-purple/80 transition-colors",children:"View Library"}),o.jsx(P,{to:"/import",className:"px-6 py-3 bg-primary-cyan text-white rounded-lg hover:bg-primary-cyan/80 transition-colors",children:"Import More Games"})]})]})]})})}const Hs=U("/dashboard")({beforeLoad:({context:e})=>{if(!e.auth.token)throw re({to:"/login"})},component:Bs}),qs=U("/collections")({component:vt}),Gs=U("/")({beforeLoad:({context:e})=>{throw e.auth.token?re({to:"/dashboard"}):re({to:"/login"})}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Us(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function ne(e,t){return typeof e=="function"?e(t):e}function H(e,t){return n=>{t.setState(r=>({...r,[e]:ne(n,r[e])}))}}function qe(e){return e instanceof Function}function Ks(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Ws(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const l=t(i);l!=null&&l.length&&r(l)})};return r(e),n}function j(e,t,n){let r=[],s;return i=>{let l;n.key&&n.debug&&(l=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((g,m)=>r[m]!==g)))return s;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-l)*100)/100,m=Math.round((Date.now()-c)*100)/100,f=m/16,p=(u,h)=>{for(u=String(u);u.length<h;)u=" "+u;return u};console.info(`%c ${p(m,5)} /${p(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function R(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function Js(e,t,n,r){const s=()=>{var l;return(l=i.getValue())!=null?l:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:j(()=>[e,n,t,i],(l,a,d,c)=>({table:l,column:a,row:d,cell:c,getValue:c.getValue,renderValue:c.renderValue}),R(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(i,n,t,e)},{}),i}function Qs(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},d=a.accessorKey;let c=(s=(i=a.id)!=null?i:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,g;if(a.accessorFn?g=a.accessorFn:d&&(d.includes(".")?g=f=>{let p=f;for(const h of d.split(".")){var u;p=(u=p)==null?void 0:u[h]}return p}:g=f=>f[a.accessorKey]),!c)throw new Error;let m={id:`${String(c)}`,accessorFn:g,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:j(()=>[!0],()=>{var f;return[m,...(f=m.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},R(e.options,"debugColumns")),getLeafColumns:j(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=m.columns)!=null&&p.length){let u=m.columns.flatMap(h=>h.getLeafColumns());return f(u)}return[m]},R(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(m,e);return m}const L="debugHeaders";function en(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],a=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(a),l.push(d)};return a(i),l},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(i,e)}),i}const Xs={createTable:e=>{e.getHeaderGroups=j(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,l;const a=(i=r==null?void 0:r.map(m=>n.find(f=>f.id===m)).filter(Boolean))!=null?i:[],d=(l=s==null?void 0:s.map(m=>n.find(f=>f.id===m)).filter(Boolean))!=null?l:[],c=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(s!=null&&s.includes(m.id)));return $e(t,[...a,...c,...d],e)},R(e.options,L)),e.getCenterHeaderGroups=j(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),$e(t,n,e,"center")),R(e.options,L)),e.getLeftHeaderGroups=j(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?s:[];return $e(t,i,e,"left")},R(e.options,L)),e.getRightHeaderGroups=j(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?s:[];return $e(t,i,e,"right")},R(e.options,L)),e.getFooterGroups=j(()=>[e.getHeaderGroups()],t=>[...t].reverse(),R(e.options,L)),e.getLeftFooterGroups=j(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),R(e.options,L)),e.getCenterFooterGroups=j(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),R(e.options,L)),e.getRightFooterGroups=j(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),R(e.options,L)),e.getFlatHeaders=j(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),R(e.options,L)),e.getLeftFlatHeaders=j(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),R(e.options,L)),e.getCenterFlatHeaders=j(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),R(e.options,L)),e.getRightFlatHeaders=j(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),R(e.options,L)),e.getCenterLeafHeaders=j(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),R(e.options,L)),e.getLeftLeafHeaders=j(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),R(e.options,L)),e.getRightLeafHeaders=j(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),R(e.options,L)),e.getLeafHeaders=j(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,l,a,d,c;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(l=(a=n[0])==null?void 0:a.headers)!=null?l:[],...(d=(c=r[0])==null?void 0:c.headers)!=null?d:[]].map(g=>g.getLeafHeaders()).flat()},R(e.options,L))}};function $e(e,t,n,r){var s,i;let l=0;const a=function(f,p){p===void 0&&(p=1),l=Math.max(l,p),f.filter(u=>u.getIsVisible()).forEach(u=>{var h;(h=u.columns)!=null&&h.length&&a(u.columns,p+1)},0)};a(e);let d=[];const c=(f,p)=>{const u={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},h=[];f.forEach(x=>{const w=[...h].reverse()[0],N=x.column.depth===u.depth;let C,b=!1;if(N&&x.column.parent?C=x.column.parent:(C=x.column,b=!0),w&&(w==null?void 0:w.column)===C)w.subHeaders.push(x);else{const F=en(n,C,{id:[r,p,C.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:b,placeholderId:b?`${h.filter(M=>M.column===C).length}`:void 0,depth:p,index:h.length});F.subHeaders.push(x),h.push(F)}u.headers.push(x),x.headerGroup=u}),d.push(u),p>0&&c(h,p-1)},g=t.map((f,p)=>en(n,f,{depth:l,index:p}));c(g,l-1),d.reverse();const m=f=>f.filter(u=>u.column.getIsVisible()).map(u=>{let h=0,x=0,w=[0];u.subHeaders&&u.subHeaders.length?(w=[],m(u.subHeaders).forEach(C=>{let{colSpan:b,rowSpan:F}=C;h+=b,w.push(F)})):h=1;const N=Math.min(...w);return x=x+N,u.colSpan=h,u.rowSpan=x,{colSpan:h,rowSpan:x}});return m((s=(i=d[0])==null?void 0:i.headers)!=null?s:[]),d}const Nt=(e,t,n,r,s,i,l)=>{let a={id:t,index:r,original:n,depth:s,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(a._valuesCache.hasOwnProperty(d))return a._valuesCache[d];const c=e.getColumn(d);if(c!=null&&c.accessorFn)return a._valuesCache[d]=c.accessorFn(a.original,r),a._valuesCache[d]},getUniqueValues:d=>{if(a._uniqueValuesCache.hasOwnProperty(d))return a._uniqueValuesCache[d];const c=e.getColumn(d);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[d]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[d]):(a._uniqueValuesCache[d]=[a.getValue(d)],a._uniqueValuesCache[d])},renderValue:d=>{var c;return(c=a.getValue(d))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Ws(a.subRows,d=>d.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let d=[],c=a;for(;;){const g=c.getParentRow();if(!g)break;d.push(g),c=g}return d.reverse()},getAllCells:j(()=>[e.getAllLeafColumns()],d=>d.map(c=>Js(e,a,c,c.id)),R(e.options,"debugRows")),_getAllCellsByColumnId:j(()=>[a.getAllCells()],d=>d.reduce((c,g)=>(c[g.column.id]=g,c),{}),R(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const c=e._features[d];c==null||c.createRow==null||c.createRow(a,e)}return a},Ys={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},En=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};En.autoRemove=e=>W(e);const $n=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};$n.autoRemove=e=>W(e);const An=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};An.autoRemove=e=>W(e);const In=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};In.autoRemove=e=>W(e);const Mn=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});Mn.autoRemove=e=>W(e)||!(e!=null&&e.length);const kn=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});kn.autoRemove=e=>W(e)||!(e!=null&&e.length);const Ln=(e,t,n)=>e.getValue(t)===n;Ln.autoRemove=e=>W(e);const On=(e,t,n)=>e.getValue(t)==n;On.autoRemove=e=>W(e);const _t=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};_t.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(s)?1/0:s;if(i>l){const a=i;i=l,l=a}return[i,l]};_t.autoRemove=e=>W(e)||W(e[0])&&W(e[1]);const Y={includesString:En,includesStringSensitive:$n,equalsString:An,arrIncludes:In,arrIncludesAll:Mn,arrIncludesSome:kn,equals:Ln,weakEquals:On,inNumberRange:_t};function W(e){return e==null||e===""}const Zs={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:H("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Y.includesString:typeof r=="number"?Y.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Y.equals:Array.isArray(r)?Y.arrIncludes:Y.weakEquals},e.getFilterFn=()=>{var n,r;return qe(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Y[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(g=>g.id===e.id),l=ne(n,i?i.value:void 0);if(tn(s,l,e)){var a;return(a=r==null?void 0:r.filter(g=>g.id!==e.id))!=null?a:[]}const d={id:e.id,value:l};if(i){var c;return(c=r==null?void 0:r.map(g=>g.id===e.id?d:g))!=null?c:[]}return r!=null&&r.length?[...r,d]:[d]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=ne(t,s))==null?void 0:i.filter(l=>{const a=n.find(d=>d.id===l.id);if(a){const d=a.getFilterFn();if(tn(d,l.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function tn(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const eo=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),to=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},no=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},ro=(e,t,n)=>{let r,s;return n.forEach(i=>{const l=i.getValue(e);l!=null&&(r===void 0?l>=l&&(r=s=l):(r>l&&(r=l),s<l&&(s=l)))}),[r,s]},so=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},oo=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!Ks(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,l)=>i-l);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},io=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),lo=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,ao=(e,t)=>t.length,st={sum:eo,min:to,max:no,extent:ro,mean:so,median:oo,unique:io,uniqueCount:lo,count:ao},co={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:H("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return st.sum;if(Object.prototype.toString.call(r)==="[object Date]")return st.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return qe(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:st[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function uo(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(l=>l.id===i)).filter(Boolean),...r]}const go={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:H("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=j(n=>[Ce(t,n)],n=>n.findIndex(r=>r.id===e.id),R(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Ce(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Ce(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=j(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const l=[...t],a=[...s];for(;a.length&&l.length;){const d=l.shift(),c=a.findIndex(g=>g.id===d);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return uo(i,n,r)},R(e.options,"debugTable"))}},ot=()=>({left:[],right:[]}),mo={getInitialState:e=>({columnPinning:ot(),...e}),getDefaultOptions:e=>({onColumnPinningChange:H("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,l;if(n==="right"){var a,d;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((d=s==null?void 0:s.right)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var c,g;return{left:[...((c=s==null?void 0:s.left)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((g=s==null?void 0:s.right)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(m=>!(r!=null&&r.includes(m))),right:((l=s==null?void 0:s.right)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,l;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),l=n.some(a=>s==null?void 0:s.includes(a));return i?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=j(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(l=>!i.includes(l.column.id))},R(t.options,"debugRows")),e.getLeftVisibleCells=j(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),R(t.options,"debugRows")),e.getRightVisibleCells=j(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),R(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?ot():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:ot())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=j(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),R(e.options,"debugColumns")),e.getRightLeafColumns=j(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),R(e.options,"debugColumns")),e.getCenterLeafColumns=j(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},R(e.options,"debugColumns"))}};function po(e){return e||(typeof document<"u"?document:null)}const Ae={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},it=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),fo={getDefaultColumnDef:()=>Ae,getInitialState:e=>({columnSizing:{},columnSizingInfo:it(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:H("columnSizing",e),onColumnSizingInfoChange:H("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Ae.minSize,(r=i??e.columnDef.size)!=null?r:Ae.size),(s=e.columnDef.maxSize)!=null?s:Ae.maxSize)},e.getStart=j(n=>[n,Ce(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),R(t.options,"debugColumns")),e.getAfter=j(n=>[n,Ce(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),R(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),lt(i)&&i.touches&&i.touches.length>1))return;const l=e.getSize(),a=e?e.getLeafHeaders().map(w=>[w.column.id,w.column.getSize()]):[[r.id,r.getSize()]],d=lt(i)?Math.round(i.touches[0].clientX):i.clientX,c={},g=(w,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(C=>{var b,F;const M=t.options.columnResizeDirection==="rtl"?-1:1,k=(N-((b=C==null?void 0:C.startOffset)!=null?b:0))*M,E=Math.max(k/((F=C==null?void 0:C.startSize)!=null?F:0),-.999999);return C.columnSizingStart.forEach(v=>{let[$,Z]=v;c[$]=Math.round(Math.max(Z+Z*E,0)*100)/100}),{...C,deltaOffset:k,deltaPercentage:E}}),(t.options.columnResizeMode==="onChange"||w==="end")&&t.setColumnSizing(C=>({...C,...c})))},m=w=>g("move",w),f=w=>{g("end",w),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=po(n),u={moveHandler:w=>m(w.clientX),upHandler:w=>{p==null||p.removeEventListener("mousemove",u.moveHandler),p==null||p.removeEventListener("mouseup",u.upHandler),f(w.clientX)}},h={moveHandler:w=>(w.cancelable&&(w.preventDefault(),w.stopPropagation()),m(w.touches[0].clientX),!1),upHandler:w=>{var N;p==null||p.removeEventListener("touchmove",h.moveHandler),p==null||p.removeEventListener("touchend",h.upHandler),w.cancelable&&(w.preventDefault(),w.stopPropagation()),f((N=w.touches[0])==null?void 0:N.clientX)}},x=ho()?{passive:!1}:!1;lt(i)?(p==null||p.addEventListener("touchmove",h.moveHandler,x),p==null||p.addEventListener("touchend",h.upHandler,x)):(p==null||p.addEventListener("mousemove",u.moveHandler,x),p==null||p.addEventListener("mouseup",u.upHandler,x)),t.setColumnSizingInfo(w=>({...w,startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?it():(n=e.initialState.columnSizingInfo)!=null?n:it())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Ie=null;function ho(){if(typeof Ie=="boolean")return Ie;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Ie=e,Ie}function lt(e){return e.type==="touchstart"}const xo={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:H("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=j(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),R(t.options,"debugRows")),e.getVisibleCells=j(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],R(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>j(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),R(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Ce(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const yo={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},wo={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:H("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Y.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return qe(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Y[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},vo={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:H("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const l=i.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{l[a]=!0}):l=r,n=(s=n)!=null?s:!i,!i&&n)return{...l,[e.id]:!0};if(i&&!n){const{[e.id]:a,...d}=l;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},ft=0,ht=10,at=()=>({pageIndex:ft,pageSize:ht}),bo={getInitialState:e=>({...e,pagination:{...at(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:H("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>ne(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?at():(s=e.initialState.pagination)!=null?s:at())},e.setPageIndex=r=>{e.setPagination(s=>{let i=ne(r,s.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,l)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?ft:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:ft)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?ht:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:ht)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,ne(r,s.pageSize)),l=s.pageSize*s.pageIndex,a=Math.floor(l/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let l=ne(r,(i=e.options.pageCount)!=null?i:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...s,pageCount:l}}),e.getPageOptions=j(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,l)=>l)),s},R(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},ct=()=>({top:[],bottom:[]}),So={getInitialState:e=>({rowPinning:ct(),...e}),getDefaultOptions:e=>({onRowPinningChange:H("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(d=>{let{id:c}=d;return c}):[],l=s?e.getParentRows().map(d=>{let{id:c}=d;return c}):[],a=new Set([...l,e.id,...i]);t.setRowPinning(d=>{var c,g;if(n==="bottom"){var m,f;return{top:((m=d==null?void 0:d.top)!=null?m:[]).filter(h=>!(a!=null&&a.has(h))),bottom:[...((f=d==null?void 0:d.bottom)!=null?f:[]).filter(h=>!(a!=null&&a.has(h))),...Array.from(a)]}}if(n==="top"){var p,u;return{top:[...((p=d==null?void 0:d.top)!=null?p:[]).filter(h=>!(a!=null&&a.has(h))),...Array.from(a)],bottom:((u=d==null?void 0:d.bottom)!=null?u:[]).filter(h=>!(a!=null&&a.has(h)))}}return{top:((c=d==null?void 0:d.top)!=null?c:[]).filter(h=>!(a!=null&&a.has(h))),bottom:((g=d==null?void 0:d.bottom)!=null?g:[]).filter(h=>!(a!=null&&a.has(h)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),l=n.some(a=>s==null?void 0:s.includes(a));return i?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:a}=l;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?ct():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:ct())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(l=>{const a=e.getRow(l,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(l=>t.find(a=>a.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=j(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),R(e.options,"debugRows")),e.getBottomRows=j(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),R(e.options,"debugRows")),e.getCenterRows=j(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},R(e.options,"debugRows"))}},Co={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:H("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{xt(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=j(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ut(e,n):{rows:[],flatRows:[],rowsById:{}},R(e.options,"debugTable")),e.getFilteredSelectedRowModel=j(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ut(e,n):{rows:[],flatRows:[],rowsById:{}},R(e.options,"debugTable")),e.getGroupedSelectedRowModel=j(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ut(e,n):{rows:[],flatRows:[],rowsById:{}},R(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var l;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return xt(a,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Ft(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return yt(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return yt(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},xt=(e,t,n,r,s)=>{var i;const l=s.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=l.subRows)!=null&&i.length&&l.getCanSelectSubRows()&&l.subRows.forEach(a=>xt(e,a.id,n,r,s))};function ut(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(l,a){return l.map(d=>{var c;const g=Ft(d,n);if(g&&(r.push(d),s[d.id]=d),(c=d.subRows)!=null&&c.length&&(d={...d,subRows:i(d.subRows)}),g)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function Ft(e,t){var n;return(n=t[e.id])!=null?n:!1}function yt(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(l=>{if(!(i&&!s)&&(l.getCanSelect()&&(Ft(l,t)?i=!0:s=!1),l.subRows&&l.subRows.length)){const a=yt(l,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const wt=/([0-9]+)/gm,jo=(e,t,n)=>Vn(se(e.getValue(n)).toLowerCase(),se(t.getValue(n)).toLowerCase()),Ro=(e,t,n)=>Vn(se(e.getValue(n)),se(t.getValue(n))),No=(e,t,n)=>Pt(se(e.getValue(n)).toLowerCase(),se(t.getValue(n)).toLowerCase()),_o=(e,t,n)=>Pt(se(e.getValue(n)),se(t.getValue(n))),Fo=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},Po=(e,t,n)=>Pt(e.getValue(n),t.getValue(n));function Pt(e,t){return e===t?0:e>t?1:-1}function se(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Vn(e,t){const n=e.split(wt).filter(Boolean),r=t.split(wt).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),l=parseInt(s,10),a=parseInt(i,10),d=[l,a].sort();if(isNaN(d[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(d[1]))return isNaN(l)?-1:1;if(l>a)return 1;if(a>l)return-1}return n.length-r.length}const Se={alphanumeric:jo,alphanumericCaseSensitive:Ro,text:No,textCaseSensitive:_o,datetime:Fo,basic:Po},Eo={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:H("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Se.datetime;if(typeof i=="string"&&(r=!0,i.split(wt).length>1))return Se.alphanumeric}return r?Se.text:Se.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return qe(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Se[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(l=>{const a=l==null?void 0:l.find(p=>p.id===e.id),d=l==null?void 0:l.findIndex(p=>p.id===e.id);let c=[],g,m=i?n:s==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?a?g="toggle":g="add":l!=null&&l.length&&d!==l.length-1?g="replace":a?g="toggle":g="replace",g==="toggle"&&(i||s||(g="remove")),g==="add"){var f;c=[...l,{id:e.id,desc:m}],c.splice(0,c.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else g==="toggle"?c=l.map(p=>p.id===e.id?{...p,desc:m}:p):g==="remove"?c=l.filter(p=>p.id!==e.id):c=[{id:e.id,desc:m}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:l==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},$o=[Xs,xo,go,mo,Ys,Zs,yo,wo,Eo,co,vo,bo,So,Co,fo];function Ao(e){var t,n;const r=[...$o,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(s)),{}),l=f=>s.options.mergeOptions?s.options.mergeOptions(i,f):{...i,...f};let d={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(f=>{var p;d=(p=f.getInitialState==null?void 0:f.getInitialState(d))!=null?p:d});const c=[];let g=!1;const m={_features:r,options:{...i,...e},initialState:d,_queue:f=>{c.push(f),g||(g=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();g=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{s.setState(s.initialState)},setOptions:f=>{const p=ne(f,s.options);s.options=l(p)},getState:()=>s.options.state,setState:f=>{s.options.onStateChange==null||s.options.onStateChange(f)},_getRowId:(f,p,u)=>{var h;return(h=s.options.getRowId==null?void 0:s.options.getRowId(f,p,u))!=null?h:`${u?[u.id,p].join("."):p}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(f,p)=>{let u=(p?s.getPrePaginationRowModel():s.getRowModel()).rowsById[f];if(!u&&(u=s.getCoreRowModel().rowsById[f],!u))throw new Error;return u},_getDefaultColumnDef:j(()=>[s.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:u=>{const h=u.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:u=>{var h,x;return(h=(x=u.renderValue())==null||x.toString==null?void 0:x.toString())!=null?h:null},...s._features.reduce((u,h)=>Object.assign(u,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...f}},R(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:j(()=>[s._getColumnDefs()],f=>{const p=function(u,h,x){return x===void 0&&(x=0),u.map(w=>{const N=Qs(s,w,x,h),C=w;return N.columns=C.columns?p(C.columns,N,x+1):[],N})};return p(f)},R(e,"debugColumns")),getAllFlatColumns:j(()=>[s.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),R(e,"debugColumns")),_getAllFlatColumnsById:j(()=>[s.getAllFlatColumns()],f=>f.reduce((p,u)=>(p[u.id]=u,p),{}),R(e,"debugColumns")),getAllLeafColumns:j(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(f,p)=>{let u=f.flatMap(h=>h.getLeafColumns());return p(u)},R(e,"debugColumns")),getColumn:f=>s._getAllFlatColumnsById()[f]};Object.assign(s,m);for(let f=0;f<s._features.length;f++){const p=s._features[f];p==null||p.createTable==null||p.createTable(s)}return s}function Io(){return e=>j(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,l){i===void 0&&(i=0);const a=[];for(let c=0;c<s.length;c++){const g=Nt(e,e._getRowId(s[c],c,l),s[c],c,i,void 0,l==null?void 0:l.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,a.push(g),e.options.getSubRows){var d;g.originalSubRows=e.options.getSubRows(s[c],c),(d=g.originalSubRows)!=null&&d.length&&(g.subRows=r(g.originalSubRows,i+1,g))}}return a};return n.rows=r(t),n},R(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Mo(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function ko(e,t,n){return n.options.filterFromLeafRows?Lo(e,t,n):Oo(e,t,n)}function Lo(e,t,n){var r;const s=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(d,c){c===void 0&&(c=0);const g=[];for(let f=0;f<d.length;f++){var m;let p=d[f];const u=Nt(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(u.columnFilters=p.columnFilters,(m=p.subRows)!=null&&m.length&&c<l){if(u.subRows=a(p.subRows,c+1),p=u,t(p)&&!u.subRows.length){g.push(p),i[p.id]=p,s.push(p);continue}if(t(p)||u.subRows.length){g.push(p),i[p.id]=p,s.push(p);continue}}else p=u,t(p)&&(g.push(p),i[p.id]=p,s.push(p))}return g};return{rows:a(e),flatRows:s,rowsById:i}}function Oo(e,t,n){var r;const s=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(d,c){c===void 0&&(c=0);const g=[];for(let f=0;f<d.length;f++){let p=d[f];if(t(p)){var m;if((m=p.subRows)!=null&&m.length&&c<l){const h=Nt(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);h.subRows=a(p.subRows,c+1),p=h}g.push(p),s.push(p),i[p.id]=p}}return g};return{rows:a(e),flatRows:s,rowsById:i}}function Vo(){return e=>j(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(f=>{var p;const u=e.getColumn(f.id);if(!u)return;const h=u.getFilterFn();h&&s.push({id:f.id,filterFn:h,resolvedValue:(p=h.resolveFilterValue==null?void 0:h.resolveFilterValue(f.value))!=null?p:f.value})});const l=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&d.length&&(l.push("__global__"),d.forEach(f=>{var p;i.push({id:f.id,filterFn:a,resolvedValue:(p=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?p:r})}));let c,g;for(let f=0;f<t.flatRows.length;f++){const p=t.flatRows[f];if(p.columnFilters={},s.length)for(let u=0;u<s.length;u++){c=s[u];const h=c.id;p.columnFilters[h]=c.filterFn(p,h,c.resolvedValue,x=>{p.columnFiltersMeta[h]=x})}if(i.length){for(let u=0;u<i.length;u++){g=i[u];const h=g.id;if(g.filterFn(p,h,g.resolvedValue,x=>{p.columnFiltersMeta[h]=x})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const m=f=>{for(let p=0;p<l.length;p++)if(f.columnFilters[l[p]]===!1)return!1;return!0};return ko(t.rows,m,e)},R(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function To(e){return t=>j(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:l,flatRows:a,rowsById:d}=r;const c=s*i,g=c+s;l=l.slice(c,g);let m;t.options.paginateExpandedRows?m={rows:l,flatRows:a,rowsById:d}:m=Mo({rows:l,flatRows:a,rowsById:d}),m.flatRows=[];const f=p=>{m.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return m.rows.forEach(f),m},R(t.options,"debugTable"))}function Do(){return e=>j(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(d=>{var c;return(c=e.getColumn(d.id))==null?void 0:c.getCanSort()}),l={};i.forEach(d=>{const c=e.getColumn(d.id);c&&(l[d.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=d=>{const c=d.map(g=>({...g}));return c.sort((g,m)=>{for(let p=0;p<i.length;p+=1){var f;const u=i[p],h=l[u.id],x=h.sortUndefined,w=(f=u==null?void 0:u.desc)!=null?f:!1;let N=0;if(x){const C=g.getValue(u.id),b=m.getValue(u.id),F=C===void 0,M=b===void 0;if(F||M){if(x==="first")return F?-1:1;if(x==="last")return F?1:-1;N=F&&M?0:F?x:-x}}if(N===0&&(N=h.sortingFn(g,m,u.id)),N!==0)return w&&(N*=-1),h.invertSorting&&(N*=-1),N}return g.index-m.index}),c.forEach(g=>{var m;s.push(g),(m=g.subRows)!=null&&m.length&&(g.subRows=a(g.subRows))}),c};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},R(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function nn(e,t){return e?zo(e)?S.createElement(e,t):e:null}function zo(e){return Bo(e)||typeof e=="function"||Ho(e)}function Bo(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Ho(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function qo(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=S.useState(()=>({current:Ao(t)})),[r,s]=S.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:l=>{s(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}function Go({gameId:e,onClose:t}){const n=de(),{showToast:r}=we(),[s,i]=S.useState(!1),{data:l}=B({queryKey:["collections"],queryFn:async()=>(await K.getAll()).data}),a=G({mutationFn:c=>K.addGame(c,e),onSuccess:(c,g)=>{n.invalidateQueries({queryKey:["collection",g]}),n.invalidateQueries({queryKey:["collections"]});const m=d.find(f=>f.id===g);r(`Added to ${(m==null?void 0:m.name)||"collection"}`,"success"),i(!1),t==null||t()},onError:()=>{r("Failed to add to collection","error")}}),d=(l==null?void 0:l.collections)||[];return o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),i(!s)},className:"px-3 py-1 bg-primary-purple/20 border border-primary-purple/30 text-primary-purple hover:bg-primary-purple/30 rounded-lg text-sm transition-all",children:"Add to Collection"}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:o.jsx("div",{className:"py-1",children:d.length===0?o.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 text-center",children:"No collections yet. Create one first!"}):d.map(c=>o.jsxs("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),a.mutate(c.id)},disabled:a.isPending,className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white disabled:opacity-50",children:[o.jsx("div",{className:"font-medium",children:c.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:[c.game_count," games"]})]},c.id))})})]})]})}const Uo={backlog:"text-status-backlog border-status-backlog",playing:"text-status-playing border-status-playing",finished:"text-status-finished border-status-finished",dropped:"text-status-dropped border-status-dropped",completed:"text-status-completed border-status-completed"};function Ko({id:e,name:t,cover_art_url:n,platform_display_name:r,platform_id:s,status:i,metacritic_score:l,user_rating:a,total_minutes:d,is_favorite:c}){const g=Math.floor(d/60),m=d%60,f=de(),[p,u]=S.useState(c),h=G({mutationFn:w=>q.toggleFavorite(e,s,w),onMutate:async w=>{u(w)},onSuccess:()=>{f.invalidateQueries({queryKey:["games"]})},onError:()=>{u(!p)}}),x=w=>{w.preventDefault(),w.stopPropagation(),h.mutate(!p)};return o.jsxs(P,{to:"/library/$id",params:{id:e},className:"card hover:border-primary-purple transition-all cursor-pointer group relative",children:[o.jsx("button",{onClick:x,className:"absolute top-4 right-4 z-10 text-2xl hover:scale-110 transition-transform","aria-label":p?"Remove from favorites":"Add to favorites",children:p?"":""}),o.jsxs("div",{className:"flex gap-4",children:[n?o.jsx("img",{src:n,alt:t,className:"w-24 h-32 object-cover rounded"}):o.jsx("div",{className:"w-24 h-32 bg-zinc-800 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-zinc-600 text-xs",children:"No image"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold mb-2 group-hover:text-primary-purple transition-colors",children:t}),o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"badge badge-steam",children:r}),o.jsx("span",{className:`badge ${Uo[i]}`,children:i})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-zinc-400",children:[l&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-primary-yellow",children:""}),o.jsx("span",{children:l})]}),a&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-primary-cyan",children:"Your rating:"}),o.jsxs("span",{children:[a,"/10"]})]}),d>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-zinc-500",children:""}),o.jsxs("span",{children:[g>0&&`${g}h `,m,"m"]})]})]}),o.jsx("div",{className:"mt-3",onClick:w=>w.preventDefault(),children:o.jsx(Go,{gameId:e})})]})]})]})}const me=Us();function Wo(){const[e,t]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState(""),[l,a]=S.useState("grid"),[d,c]=S.useState({}),[g,m]=S.useState(""),[f,p]=S.useState(""),[u,h]=S.useState(!1),{data:x,isLoading:w,error:N}=B({queryKey:["games"],queryFn:async()=>(await q.getAll()).data}),C=(x==null?void 0:x.games)||[],b=S.useMemo(()=>{const v=new Set(C.map($=>$.platform_display_name));return Array.from(v).sort()},[C]),F=S.useMemo(()=>{const v=new Set(C.map($=>$.status));return Array.from(v).sort()},[C]),M=S.useMemo(()=>C.filter(v=>!(g&&v.platform_display_name!==g||f&&v.status!==f||u&&!v.is_favorite)),[C,g,f,u]),k=S.useMemo(()=>[me.accessor("name",{header:"Name",cell:v=>o.jsx(P,{to:"/library/$id",params:{id:v.row.original.id},className:"text-blue-400 hover:text-blue-300",children:v.getValue()})}),me.accessor("platform_display_name",{header:"Platform",cell:v=>v.getValue()}),me.accessor("status",{header:"Status",cell:v=>v.getValue()}),me.accessor("metacritic_score",{header:"Score",cell:v=>v.getValue()||"-"}),me.accessor("user_rating",{header:"Rating",cell:v=>v.getValue()?`${v.getValue()}/10`:"-"}),me.accessor("total_minutes",{header:"Playtime",cell:v=>{const $=v.getValue(),Z=Math.floor($/60),ie=$%60;return Z>0?`${Z}h ${ie}m`:`${ie}m`}})],[]),E=qo({data:M,columns:k,state:{sorting:e,columnFilters:n,globalFilter:s,columnVisibility:d},onSortingChange:t,onColumnFiltersChange:r,onGlobalFilterChange:i,onColumnVisibilityChange:c,getCoreRowModel:Io(),getSortedRowModel:Do(),getFilteredRowModel:Vo(),getPaginationRowModel:To(),initialState:{pagination:{pageSize:20}}});return w?o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Library"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:Array.from({length:12}).map((v,$)=>o.jsx(Ds,{},$))})]})}):N?o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"card max-w-md",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-red mb-4",children:"Error"}),o.jsx("p",{className:"text-zinc-400",children:"Failed to load your library. Please try again."})]})})}):o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary-purple",children:"Library"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>a("grid"),className:`px-4 py-2 rounded border transition-all ${l==="grid"?"bg-primary-purple border-purple-500 text-white":"bg-bg-secondary border-zinc-700 text-zinc-400"}`,children:"Grid"}),o.jsx("button",{onClick:()=>a("table"),className:`px-4 py-2 rounded border transition-all ${l==="table"?"bg-primary-purple border-purple-500 text-white":"bg-bg-secondary border-zinc-700 text-zinc-400"}`,children:"Table"})]})})]}),o.jsxs("div",{className:"mb-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("input",{type:"text",value:s,onChange:v=>i(v.target.value),placeholder:"Search games...",className:"input flex-1 min-w-[200px]"}),o.jsxs("select",{value:g,onChange:v=>m(v.target.value),className:"input min-w-[150px]",children:[o.jsx("option",{value:"",children:"All Platforms"}),b.map(v=>o.jsx("option",{value:v,children:v},v))]}),o.jsxs("select",{value:f,onChange:v=>p(v.target.value),className:"input min-w-[150px]",children:[o.jsx("option",{value:"",children:"All Statuses"}),F.map(v=>o.jsx("option",{value:v,children:v.charAt(0).toUpperCase()+v.slice(1)},v))]}),o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-bg-tertiary border border-zinc-700 rounded-lg cursor-pointer hover:border-red-500 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:u,onChange:v=>h(v.target.checked),className:"w-4 h-4 rounded border-zinc-700 bg-bg-secondary text-red-500 focus:ring-2 focus:ring-red-500"}),o.jsx("span",{className:"text-sm text-zinc-300",children:"Favorites Only"})]}),(g||f||s||u)&&o.jsx("button",{onClick:()=>{m(""),p(""),i(""),h(!1)},className:"btn btn-secondary",children:"Clear Filters"})]}),l==="table"&&o.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[o.jsx("span",{className:"text-sm text-zinc-400",children:"Show columns:"}),E.getAllLeafColumns().map(v=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:v.getIsVisible(),onChange:v.getToggleVisibilityHandler(),className:"w-4 h-4 rounded border-zinc-700 bg-bg-secondary text-primary-purple focus:ring-2 focus:ring-primary-purple"}),o.jsx("span",{className:"text-zinc-300",children:v.id})]},v.id))]})]}),o.jsxs("div",{className:"mb-4 text-sm text-zinc-400",children:["Showing ",E.getRowModel().rows.length," of ",M.length," games",(g||f||u)&&` (filtered from ${C.length} total)`]}),C.length===0?o.jsxs("div",{className:"card text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Games Yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Start building your library by importing games"}),o.jsx(P,{to:"/import",className:"btn btn-primary inline-block",children:"Import Games"})]}):l==="grid"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:E.getRowModel().rows.map(v=>o.jsx(Ko,{...v.original},v.original.id))}),E.getPageCount()>1&&o.jsxs("div",{className:"flex justify-center items-center gap-4",children:[o.jsx("button",{onClick:()=>E.previousPage(),disabled:!E.getCanPreviousPage(),className:"btn btn-secondary",children:"Previous"}),o.jsxs("span",{className:"text-zinc-400",children:["Page ",E.getState().pagination.pageIndex+1," of ",E.getPageCount()]}),o.jsx("button",{onClick:()=>E.nextPage(),disabled:!E.getCanNextPage(),className:"btn btn-secondary",children:"Next"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"card overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:E.getHeaderGroups().map(v=>o.jsx("tr",{className:"border-b border-zinc-700",children:v.headers.map($=>o.jsx("th",{className:"text-left p-4 text-zinc-400 font-medium cursor-pointer hover:text-white",onClick:$.column.getToggleSortingHandler(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[nn($.column.columnDef.header,$.getContext()),$.column.getIsSorted()&&o.jsx("span",{children:$.column.getIsSorted()==="asc"?"":""})]})},$.id))},v.id))}),o.jsx("tbody",{children:E.getRowModel().rows.map(v=>o.jsx("tr",{className:"border-b border-zinc-800 hover:bg-bg-hover transition-colors",children:v.getVisibleCells().map($=>o.jsx("td",{className:"p-4",children:nn($.column.columnDef.cell,$.getContext())},$.id))},v.id))})]})}),E.getPageCount()>1&&o.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[o.jsx("button",{onClick:()=>E.previousPage(),disabled:!E.getCanPreviousPage(),className:"btn btn-secondary",children:"Previous"}),o.jsxs("span",{className:"text-zinc-400",children:["Page ",E.getState().pagination.pageIndex+1," of ",E.getPageCount()]}),o.jsx("button",{onClick:()=>E.nextPage(),disabled:!E.getCanNextPage(),className:"btn btn-secondary",children:"Next"})]})]})]})})}const Jo=U("/library/")({component:Wo});function Qo(){const e=de(),{showToast:t}=we(),[n,r]=S.useState(!1),[s,i]=S.useState(""),[l,a]=S.useState(""),{data:d}=B({queryKey:["collections"],queryFn:async()=>(await K.getAll()).data}),{data:c}=B({queryKey:["series"],queryFn:async()=>(await K.getSeries()).data}),g=G({mutationFn:()=>K.create(s,l),onSuccess:()=>{e.invalidateQueries({queryKey:["collections"]}),t("Collection created successfully","success"),r(!1),i(""),a("")},onError:()=>{t("Failed to create collection","error")}}),m=G({mutationFn:x=>K.delete(x),onSuccess:()=>{e.invalidateQueries({queryKey:["collections"]}),t("Collection deleted","success")},onError:()=>{t("Failed to delete collection","error")}}),f=(d==null?void 0:d.collections)||[],p=(c==null?void 0:c.series)||[],u=()=>{if(!s.trim()){t("Collection name is required","error");return}g.mutate()},h=(x,w)=>{confirm(`Are you sure you want to delete "${w}"?`)&&m.mutate(x)};return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-white",children:"Collections"}),o.jsx(pe,{onClick:()=>r(!0),children:"Create Collection"})]}),p.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-cyan mb-4",children:"Game Series"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(x=>o.jsx(P,{to:"/collections/series/$seriesName",params:{seriesName:x.series_name},className:"card hover:border-primary-cyan transition-all cursor-pointer",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:x.series_name}),o.jsxs("p",{className:"text-sm text-gray-400",children:[x.count," games"]})]}),o.jsx("div",{className:"text-3xl",children:""})]})},x.series_name))})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-purple mb-4",children:"My Collections"}),f.length===0?o.jsx(V,{children:o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No collections yet. Create your first collection to organize your games!"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(x=>o.jsx(V,{className:"hover:border-primary-purple transition-all",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(P,{to:"/collections/$id",params:{id:x.id},className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2 hover:text-primary-purple transition-colors",children:x.name}),x.description&&o.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:x.description}),o.jsxs("p",{className:"text-sm text-primary-cyan",children:[x.game_count," ",x.game_count===1?"game":"games"]})]}),o.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-700",children:o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>h(x.id,x.name),children:"Delete"})})]})},x.id))})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 max-w-md w-full",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create Collection"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Name"}),o.jsx("input",{type:"text",value:s,onChange:x=>i(x.target.value),placeholder:"e.g., Couch Co-op Games",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (optional)"}),o.jsx("textarea",{value:l,onChange:x=>a(x.target.value),placeholder:"Describe your collection...",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple min-h-24"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(pe,{onClick:u,disabled:g.isPending,className:"flex-1",children:g.isPending?"Creating...":"Create"}),o.jsx(pe,{variant:"secondary",onClick:()=>{r(!1),i(""),a("")},className:"flex-1",children:"Cancel"})]})]})})]})})}const Xo=U("/collections/")({component:Qo});function Yo({gameId:e,platformId:t}){const n=de(),{showToast:r}=we(),[s,i]=S.useState({}),{data:l}=B({queryKey:["customFields",e],queryFn:async()=>(await q.getCustomFields(e)).data});S.useEffect(()=>{l!=null&&l.customFields&&i(l.customFields)},[l]);const a=G({mutationFn:c=>q.updateCustomFields(e,t,c),onSuccess:()=>{n.invalidateQueries({queryKey:["customFields",e]}),r("Custom fields updated successfully","success")},onError:()=>{r("Failed to update custom fields","error")}}),d=(c,g)=>{const m={...s,[c]:g};i(m),a.mutate({[c]:g})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Time Tracking"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Estimated Completion (hours)"}),o.jsx("input",{type:"number",min:"0",step:"0.5",value:s.estimated_completion_hours||"",onChange:c=>d("estimated_completion_hours",c.target.value?parseFloat(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Actual Playtime (hours)"}),o.jsx("input",{type:"number",min:"0",step:"0.5",value:s.actual_playtime_hours||"",onChange:c=>d("actual_playtime_hours",c.target.value?parseFloat(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"15"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Completion Percentage: ",s.completion_percentage||0,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:s.completion_percentage||0,onChange:c=>d("completion_percentage",parseInt(c.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary-purple"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Difficulty Rating (1-10)"}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(c=>o.jsx("button",{onClick:()=>d("difficulty_rating",c),className:`flex-1 py-2 rounded transition-all text-sm ${s.difficulty_rating===c?"bg-primary-red text-white shadow-lg shadow-primary-red/50":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:c},c))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Achievements"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total Achievements"}),o.jsx("input",{type:"number",min:"0",value:s.achievements_total||"",onChange:c=>d("achievements_total",c.target.value?parseInt(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Achievements Earned"}),o.jsx("input",{type:"number",min:"0",value:s.achievements_earned||"",onChange:c=>d("achievements_earned",c.target.value?parseInt(c.target.value):null),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",placeholder:"35"})]})]}),s.achievements_total&&s.achievements_earned&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-green h-2 rounded-full transition-all",style:{width:`${Math.min(100,s.achievements_earned/s.achievements_total*100)}%`}})}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[s.achievements_earned," / ",s.achievements_total," (",Math.round(s.achievements_earned/s.achievements_total*100),"%)"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Replay Value (1-5 stars)"}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(c=>o.jsx("button",{onClick:()=>d("replay_value",c),className:`flex-1 py-3 rounded-lg transition-all ${s.replay_value&&s.replay_value>=c?"bg-primary-yellow/20 border-2 border-primary-yellow text-primary-yellow":"bg-gray-800 border-2 border-gray-700 text-gray-400 hover:border-primary-yellow hover:text-primary-yellow"}`,children:o.jsx("span",{className:"text-2xl",children:""})},c))})]})]})}const Zo=[{value:"backlog",label:"Backlog"},{value:"playing",label:"Playing"},{value:"finished",label:"Finished"},{value:"completed",label:"Completed"},{value:"dropped",label:"Dropped"}];function ei(){const{id:e}=bt({from:"/library/$id"}),t=de(),{showToast:n}=we(),[r,s]=S.useState(!1),[i,l]=S.useState(""),{data:a,isLoading:d,error:c}=B({queryKey:["game",e],queryFn:async()=>(await q.getOne(e)).data}),g=G({mutationFn:({platformId:b,status:F})=>q.updateStatus(e,b,F),onSuccess:()=>{t.invalidateQueries({queryKey:["game",e]}),t.invalidateQueries({queryKey:["games"]}),n("Status updated successfully","success")},onError:()=>{n("Failed to update status","error")}}),m=G({mutationFn:({platformId:b,rating:F})=>q.updateRating(e,b,F),onSuccess:()=>{t.invalidateQueries({queryKey:["game",e]}),t.invalidateQueries({queryKey:["games"]}),n("Rating updated successfully","success")},onError:()=>{n("Failed to update rating","error")}}),f=G({mutationFn:({platformId:b,notes:F})=>q.updateNotes(e,b,F),onSuccess:()=>{t.invalidateQueries({queryKey:["game",e]}),s(!1),n("Notes saved successfully","success")},onError:()=>{n("Failed to save notes","error")}}),p=G({mutationFn:({platformId:b,isFavorite:F})=>q.toggleFavorite(e,b,F),onSuccess:(b,F)=>{t.invalidateQueries({queryKey:["game",e]}),t.invalidateQueries({queryKey:["games"]}),n(F.isFavorite?"Added to favorites":"Removed from favorites","success")},onError:()=>{n("Failed to update favorite status","error")}});if(d)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})})});if(c||!(a!=null&&a.game))return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-red-400",children:"Game not found"})})});const u=a.game,h=b=>{g.mutate({platformId:u.platform_id,status:b})},x=b=>{m.mutate({platformId:u.platform_id,rating:b})},w=()=>{f.mutate({platformId:u.platform_id,notes:i})},N=()=>{l(u.notes||""),s(!0)},C=(a==null?void 0:a.genres)||[];return o.jsxs(T,{children:[u.background_image_url&&o.jsxs("div",{className:"relative h-96 w-full -mx-6 -mt-6 mb-6",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${u.background_image_url})`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-gray-950/50 to-gray-950"})]}),o.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.background_image_url&&o.jsx("div",{className:"-mt-64 relative z-10"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4",children:[o.jsxs("div",{className:"lg:col-span-1",children:[u.cover_art_url?o.jsx("img",{src:u.cover_art_url,alt:u.name,className:"w-full rounded-lg shadow-lg"}):o.jsx("div",{className:"w-full aspect-[3/4] bg-gray-800 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500",children:"No cover art"})}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Status"}),o.jsx("select",{value:u.status||"backlog",onChange:b=>h(b.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple",children:Zo.map(b=>o.jsx("option",{value:b.value,children:b.label},b.value))})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Your Rating"}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(b=>o.jsx("button",{onClick:()=>x(b),className:`flex-1 py-2 rounded transition-all ${u.user_rating===b?"bg-primary-purple text-white shadow-lg shadow-primary-purple/50":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:b},b))})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:()=>p.mutate({platformId:u.platform_id,isFavorite:!u.is_favorite}),disabled:p.isPending,className:`w-full py-3 rounded-lg font-semibold transition-all ${u.is_favorite?"bg-red-600/20 border-2 border-red-500 text-red-400 hover:bg-red-600/30":"bg-gray-800 border-2 border-gray-700 text-gray-400 hover:bg-gray-700 hover:border-red-500 hover:text-red-400"}`,children:u.is_favorite?" Remove from Favorites":" Add to Favorites"})})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:u.name}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-sm mb-4",children:[o.jsx("span",{className:"px-3 py-1 bg-primary-purple/20 border border-primary-purple rounded-lg text-primary-purple",children:u.platform_display_name}),u.release_date&&o.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-lg text-gray-400",children:new Date(u.release_date).getFullYear()}),u.metacritic_score&&o.jsxs("span",{className:"px-3 py-1 bg-primary-green/20 border border-primary-green rounded-lg text-primary-green",children:["Metacritic: ",u.metacritic_score]}),u.esrb_rating&&o.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-lg text-gray-400",children:u.esrb_rating.toUpperCase()})]}),C.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:C.map(b=>o.jsx("span",{className:"px-2 py-1 bg-primary-cyan/10 border border-primary-cyan/30 rounded text-primary-cyan text-xs",children:b},b))}),u.description&&o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsx("h2",{className:"text-xl font-semibold mb-3 text-primary-purple",children:"About"}),o.jsx("p",{className:"text-gray-300 leading-relaxed",children:u.description})]}),o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-primary-purple",children:"Notes"}),!r&&o.jsx("button",{onClick:N,className:"text-sm text-primary-cyan hover:text-primary-purple",children:u.notes?"Edit":"Add Notes"})]}),r?o.jsxs("div",{children:[o.jsx("textarea",{value:i,onChange:b=>l(b.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-purple min-h-32",placeholder:"Add your notes about this game..."}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx("button",{onClick:w,disabled:f.isPending,className:"px-4 py-2 bg-primary-purple hover:bg-primary-purple/80 rounded-lg disabled:opacity-50",children:f.isPending?"Saving...":"Save"}),o.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})]}):o.jsx("div",{className:"text-gray-300 bg-gray-900/50 rounded-lg p-4",children:u.notes||"No notes yet"})]}),o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-primary-purple mb-4",children:"My Stats"}),o.jsx(Yo,{gameId:u.id,platformId:u.platform_id})]}),o.jsxs("div",{className:"mb-6 bg-gray-800/30 rounded-lg p-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-primary-purple mb-4",children:"External Resources"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("a",{href:`https://howlongtobeat.com/?q=${encodeURIComponent(u.name)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[200px] px-4 py-3 bg-primary-cyan/20 border border-primary-cyan/30 text-primary-cyan hover:bg-primary-cyan/30 rounded-lg transition-all text-center",children:"HowLongToBeat "}),u.slug&&o.jsx("a",{href:`https://rawg.io/games/${u.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[200px] px-4 py-3 bg-primary-purple/20 border border-primary-purple/30 text-primary-purple hover:bg-primary-purple/30 rounded-lg transition-all text-center",children:"View on RAWG "})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-primary-cyan/10 border border-primary-cyan/30 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-primary-cyan",children:"Playtime"}),o.jsxs("div",{className:"text-2xl font-semibold text-white",children:[Math.floor(u.total_minutes/60),"h ",u.total_minutes%60,"m"]})]}),u.last_played&&o.jsxs("div",{className:"bg-primary-purple/10 border border-primary-purple/30 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-primary-purple",children:"Last Played"}),o.jsx("div",{className:"text-lg font-semibold text-white",children:new Date(u.last_played).toLocaleDateString()})]})]})]})]})]})]})}const ti=U("/library/$id")({beforeLoad:({context:e})=>{if(!e.auth.token)throw re({to:"/login"})},component:ei});function ni(){const{id:e}=bt({from:"/collections/$id"}),t=Ve(),n=de(),{showToast:r}=we(),{data:s,isLoading:i}=B({queryKey:["collection",e],queryFn:async()=>(await K.getOne(e)).data}),l=G({mutationFn:m=>K.removeGame(e,m),onSuccess:()=>{n.invalidateQueries({queryKey:["collection",e]}),n.invalidateQueries({queryKey:["collections"]}),r("Game removed from collection","success")},onError:()=>{r("Failed to remove game","error")}}),a=G({mutationFn:()=>K.delete(e),onSuccess:()=>{n.invalidateQueries({queryKey:["collections"]}),r("Collection deleted","success"),t({to:"/collections"})},onError:()=>{r("Failed to delete collection","error")}});if(i)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})})});if(!s)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-red-400",children:"Collection not found"})})});const{collection:d,games:c}=s,g=()=>{confirm(`Are you sure you want to delete "${d.name}"?`)&&a.mutate()};return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(P,{to:"/collections",className:"text-primary-cyan hover:text-primary-purple transition-colors mb-4 inline-block",children:" Back to Collections"}),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:d.name}),d.description&&o.jsx("p",{className:"text-gray-400",children:d.description}),o.jsxs("p",{className:"text-sm text-primary-cyan mt-2",children:[c.length," ",c.length===1?"game":"games"]})]}),o.jsx(pe,{variant:"danger",onClick:g,children:"Delete Collection"})]})]}),c.length===0?o.jsx(V,{children:o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No games in this collection yet. Add games from your library!"})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:c.map(m=>o.jsxs("div",{className:"group relative",children:[o.jsxs(P,{to:"/library/$id",params:{id:m.id},children:[o.jsx("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800 mb-2",children:m.cover_art_url?o.jsx("img",{src:m.cover_art_url,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"})}),o.jsx("p",{className:"text-sm text-gray-300 truncate group-hover:text-white",children:m.name})]}),o.jsx("button",{onClick:()=>l.mutate(m.id),className:"absolute top-2 right-2 bg-red-600/80 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove from collection",children:""})]},m.id))})]})})}const ri=U("/collections/$id")({component:ni});function si(){const{seriesName:e}=bt({from:"/collections/series/$seriesName"}),{data:t,isLoading:n}=B({queryKey:["series",e],queryFn:async()=>(await K.getSeriesGames(e)).data});if(n)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})})});if(!t)return o.jsx(T,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-red-400",children:"Series not found"})})});const{games:r}=t;return o.jsx(T,{children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(P,{to:"/collections",className:"text-primary-cyan hover:text-primary-purple transition-colors mb-4 inline-block",children:" Back to Collections"}),o.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:[e," Series"]}),o.jsxs("p",{className:"text-sm text-primary-cyan",children:[r.length," ",r.length===1?"game":"games"]})]}),r.length===0?o.jsx(V,{children:o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No games found in this series."})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map(s=>o.jsxs(P,{to:"/library/$id",params:{id:s.id},className:"group",children:[o.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden bg-gray-800 mb-2 relative",children:[s.cover_art_url?o.jsx("img",{src:s.cover_art_url,alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Cover"}),s.is_favorite&&o.jsx("div",{className:"absolute top-2 right-2 text-xl",children:""})]}),o.jsx("p",{className:"text-sm text-gray-300 truncate group-hover:text-white mb-1",children:s.name}),s.release_date&&o.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.release_date).getFullYear()})]},s.id))})]})})}const oi=U("/collections/series/$seriesName")({component:si}),ii=Es.update({id:"/register",path:"/register",getParentRoute:()=>oe}),li=As.update({id:"/login",path:"/login",getParentRoute:()=>oe}),Et=Is.update({id:"/library",path:"/library",getParentRoute:()=>oe}),ai=Vs.update({id:"/import",path:"/import",getParentRoute:()=>oe}),ci=Hs.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>oe}),Ge=qs.update({id:"/collections",path:"/collections",getParentRoute:()=>oe}),ui=Gs.update({id:"/",path:"/",getParentRoute:()=>oe}),di=Jo.update({id:"/",path:"/",getParentRoute:()=>Et}),gi=Xo.update({id:"/",path:"/",getParentRoute:()=>Ge}),mi=ti.update({id:"/$id",path:"/$id",getParentRoute:()=>Et}),pi=ri.update({id:"/$id",path:"/$id",getParentRoute:()=>Ge}),fi=oi.update({id:"/series/$seriesName",path:"/series/$seriesName",getParentRoute:()=>Ge}),hi={CollectionsIdRoute:pi,CollectionsIndexRoute:gi,CollectionsSeriesSeriesNameRoute:fi},xi=Ge._addFileChildren(hi),yi={LibraryIdRoute:mi,LibraryIndexRoute:di},wi=Et._addFileChildren(yi),vi={IndexRoute:ui,CollectionsRoute:xi,DashboardRoute:ci,ImportRoute:ai,LibraryRoute:wi,LoginRoute:li,RegisterRoute:ii},bi=oe._addFileChildren(vi)._addFileTypes(),Si=zn({routeTree:bi,context:{auth:void 0}}),Ci=new qn({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function ji(){const e=ye();return o.jsx(Bn,{router:Si,context:{auth:e}})}function Ri(){return o.jsxs(Gn,{client:Ci,children:[o.jsx(Rs,{children:o.jsx(Ns,{children:o.jsx(ji,{})})}),o.jsx(Wn,{initialIsOpen:!1})]})}Kn.createRoot(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(Ri,{})}));
